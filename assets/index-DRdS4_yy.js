function lp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function up(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var od={exports:{}},Gi={},ad={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=Symbol.for("react.element"),dp=Symbol.for("react.portal"),hp=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),mp=Symbol.for("react.provider"),gp=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),wp=Symbol.for("react.memo"),xp=Symbol.for("react.lazy"),su=Symbol.iterator;function _p(e){return e===null||typeof e!="object"?null:(e=su&&e[su]||e["@@iterator"],typeof e=="function"?e:null)}var ld={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ud=Object.assign,cd={};function En(e,t,r){this.props=e,this.context=t,this.refs=cd,this.updater=r||ld}En.prototype.isReactComponent={};En.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};En.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dd(){}dd.prototype=En.prototype;function Xa(e,t,r){this.props=e,this.context=t,this.refs=cd,this.updater=r||ld}var Za=Xa.prototype=new dd;Za.constructor=Xa;ud(Za,En.prototype);Za.isPureReactComponent=!0;var iu=Array.isArray,hd=Object.prototype.hasOwnProperty,el={current:null},fd={key:!0,ref:!0,__self:!0,__source:!0};function pd(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)hd.call(t,n)&&!fd.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Cs,type:e,key:i,ref:o,props:s,_owner:el.current}}function kp(e,t){return{$$typeof:Cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cs}function Sp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ou=/\/+/g;function vo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sp(""+e.key):t.toString(36)}function ii(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cs:case dp:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+vo(o,0):n,iu(s)?(r="",e!=null&&(r=e.replace(ou,"$&/")+"/"),ii(s,t,r,"",function(c){return c})):s!=null&&(tl(s)&&(s=kp(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ou,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",iu(e))for(var a=0;a<e.length;a++){i=e[a];var u=n+vo(i,a);o+=ii(i,t,r,u,s)}else if(u=_p(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=n+vo(i,a++),o+=ii(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ds(e,t,r){if(e==null)return e;var n=[],s=0;return ii(e,n,"","",function(i){return t.call(r,i,s++)}),n}function jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},oi={transition:null},Ep={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:oi,ReactCurrentOwner:el};function md(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ds,forEach:function(e,t,r){Ds(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ds(e,function(){t++}),t},toArray:function(e){return Ds(e,function(t){return t})||[]},only:function(e){if(!tl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=En;z.Fragment=hp;z.Profiler=pp;z.PureComponent=Xa;z.StrictMode=fp;z.Suspense=yp;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ep;z.act=md;z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ud({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=el.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)hd.call(t,u)&&!fd.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Cs,type:e.type,key:s,ref:i,props:n,_owner:o}};z.createContext=function(e){return e={$$typeof:gp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mp,_context:e},e.Consumer=e};z.createElement=pd;z.createFactory=function(e){var t=pd.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:vp,render:e}};z.isValidElement=tl;z.lazy=function(e){return{$$typeof:xp,_payload:{_status:-1,_result:e},_init:jp}};z.memo=function(e,t){return{$$typeof:wp,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=oi.transition;oi.transition={};try{e()}finally{oi.transition=t}};z.unstable_act=md;z.useCallback=function(e,t){return $e.current.useCallback(e,t)};z.useContext=function(e){return $e.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};z.useEffect=function(e,t){return $e.current.useEffect(e,t)};z.useId=function(){return $e.current.useId()};z.useImperativeHandle=function(e,t,r){return $e.current.useImperativeHandle(e,t,r)};z.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return $e.current.useMemo(e,t)};z.useReducer=function(e,t,r){return $e.current.useReducer(e,t,r)};z.useRef=function(e){return $e.current.useRef(e)};z.useState=function(e){return $e.current.useState(e)};z.useSyncExternalStore=function(e,t,r){return $e.current.useSyncExternalStore(e,t,r)};z.useTransition=function(){return $e.current.useTransition()};z.version="18.3.1";ad.exports=z;var x=ad.exports;const on=up(x),bp=lp({__proto__:null,default:on},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np=x,Cp=Symbol.for("react.element"),Pp=Symbol.for("react.fragment"),Tp=Object.prototype.hasOwnProperty,Op=Np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rp={key:!0,ref:!0,__self:!0,__source:!0};function gd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Tp.call(t,n)&&!Rp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Cp,type:e,key:i,ref:o,props:s,_owner:Op.current}}Gi.Fragment=Pp;Gi.jsx=gd;Gi.jsxs=gd;od.exports=Gi;var l=od.exports,vd={exports:{}},et={},yd={exports:{}},wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var D=P.length;P.push(L);e:for(;0<D;){var q=D-1>>>1,ne=P[q];if(0<s(ne,L))P[q]=L,P[D]=ne,D=q;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],D=P.pop();if(D!==L){P[0]=D;e:for(var q=0,ne=P.length,qe=ne>>>1;q<qe;){var Ke=2*(q+1)-1,st=P[Ke],b=Ke+1,A=P[b];if(0>s(st,D))b<ne&&0>s(A,st)?(P[q]=A,P[b]=D,q=b):(P[q]=st,P[Ke]=D,q=Ke);else if(b<ne&&0>s(A,D))P[q]=A,P[b]=D,q=b;else break e}}return L}function s(P,L){var D=P.sortIndex-L.sortIndex;return D!==0?D:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,f=3,v=!1,y=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=P)n(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=r(c)}}function _(P){if(w=!1,g(P),!y)if(r(u)!==null)y=!0,kt(S);else{var L=r(c);L!==null&&De(_,L.startTime-P)}}function S(P,L){y=!1,w&&(w=!1,m(O),O=-1),v=!0;var D=f;try{for(g(L),h=r(u);h!==null&&(!(h.expirationTime>L)||P&&!ge());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var ne=q(h.expirationTime<=L);L=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===r(u)&&n(u),g(L)}else n(u);h=r(u)}if(h!==null)var qe=!0;else{var Ke=r(c);Ke!==null&&De(_,Ke.startTime-L),qe=!1}return qe}finally{h=null,f=D,v=!1}}var T=!1,C=null,O=-1,G=5,U=-1;function ge(){return!(e.unstable_now()-U<G)}function Pe(){if(C!==null){var P=e.unstable_now();U=P;var L=!0;try{L=C(!0,P)}finally{L?rt():(T=!1,C=null)}}else T=!1}var rt;if(typeof p=="function")rt=function(){p(Pe)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,nt=ht.port2;ht.port1.onmessage=Pe,rt=function(){nt.postMessage(null)}}else rt=function(){k(Pe,0)};function kt(P){C=P,T||(T=!0,rt())}function De(P,L){O=k(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,kt(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var D=f;f=L;try{return P()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=f;f=P;try{return L()}finally{f=D}},e.unstable_scheduleCallback=function(P,L,D){var q=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?q+D:q):D=q,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=D+ne,P={id:d++,callback:L,priorityLevel:P,startTime:D,expirationTime:ne,sortIndex:-1},D>q?(P.sortIndex=D,t(c,P),r(u)===null&&P===r(c)&&(w?(m(O),O=-1):w=!0,De(_,D-q))):(P.sortIndex=ne,t(u,P),y||v||(y=!0,kt(S))),P},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(P){var L=f;return function(){var D=f;f=L;try{return P.apply(this,arguments)}finally{f=D}}}})(wd);yd.exports=wd;var Ap=yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=x,Ze=Ap;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xd=new Set,is={};function Ur(e,t){gn(e,t),gn(e+"Capture",t)}function gn(e,t){for(is[e]=t,e=0;e<t.length;e++)xd.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=Object.prototype.hasOwnProperty,Lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,au={},lu={};function $p(e){return Jo.call(lu,e)?!0:Jo.call(au,e)?!1:Lp.test(e)?lu[e]=!0:(au[e]=!0,!1)}function Up(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dp(e,t,r,n){if(t===null||typeof t>"u"||Up(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var rl=/[\-:]([a-z])/g;function nl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rl,nl);Ce[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rl,nl);Ce[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rl,nl);Ce[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function sl(e,t,r,n){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dp(t,r,s,n)&&(r=null),n||s===null?$p(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ft=Ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ms=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),il=Symbol.for("react.strict_mode"),Qo=Symbol.for("react.profiler"),_d=Symbol.for("react.provider"),kd=Symbol.for("react.context"),ol=Symbol.for("react.forward_ref"),Yo=Symbol.for("react.suspense"),Xo=Symbol.for("react.suspense_list"),al=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Sd=Symbol.for("react.offscreen"),uu=Symbol.iterator;function Rn(e){return e===null||typeof e!="object"?null:(e=uu&&e[uu]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,yo;function Bn(e){if(yo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);yo=t&&t[1]||""}return`
`+yo+e}var wo=!1;function xo(e,t){if(!e||wo)return"";wo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{wo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bn(e):""}function Mp(e){switch(e.tag){case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 2:case 15:return e=xo(e.type,!1),e;case 11:return e=xo(e.type.render,!1),e;case 1:return e=xo(e.type,!0),e;default:return""}}function Zo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case qr:return"Portal";case Qo:return"Profiler";case il:return"StrictMode";case Yo:return"Suspense";case Xo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kd:return(e.displayName||"Context")+".Consumer";case _d:return(e._context.displayName||"Context")+".Provider";case ol:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case al:return t=e.displayName||null,t!==null?t:Zo(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Zo(e(t))}catch{}}return null}function Fp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zo(t);case 8:return t===il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zp(e){var t=jd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fs(e){e._valueTracker||(e._valueTracker=zp(e))}function Ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ea(e,t){var r=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=pr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bd(e,t){t=t.checked,t!=null&&sl(e,"checked",t,!1)}function ta(e,t){bd(e,t);var r=pr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ra(e,t.type,r):t.hasOwnProperty("defaultValue")&&ra(e,t.type,pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function du(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ra(e,t,r){(t!=="number"||wi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hn=Array.isArray;function an(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+pr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(Hn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pr(r)}}function Nd(e,t){var r=pr(t.value),n=pr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zs,Pd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zs=zs||document.createElement("div"),zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function os(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bp=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(e){Bp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qn[t]=qn[e]})});function Td(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qn.hasOwnProperty(e)&&qn[e]?(""+t).trim():t+"px"}function Od(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Td(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Hp=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ia(e,t){if(t){if(Hp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function oa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,ln=null,un=null;function pu(e){if(e=Os(e)){if(typeof la!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Yi(t),la(e.stateNode,e.type,t))}}function Rd(e){ln?un?un.push(e):un=[e]:ln=e}function Ad(){if(ln){var e=ln,t=un;if(un=ln=null,pu(e),t)for(e=0;e<t.length;e++)pu(t[e])}}function Id(e,t){return e(t)}function Ld(){}var _o=!1;function $d(e,t,r){if(_o)return e(t,r);_o=!0;try{return Id(e,t,r)}finally{_o=!1,(ln!==null||un!==null)&&(Ld(),Ad())}}function as(e,t){var r=e.stateNode;if(r===null)return null;var n=Yi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var ua=!1;if($t)try{var An={};Object.defineProperty(An,"passive",{get:function(){ua=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{ua=!1}function Vp(e,t,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Kn=!1,xi=null,_i=!1,ca=null,Wp={onError:function(e){Kn=!0,xi=e}};function Gp(e,t,r,n,s,i,o,a,u){Kn=!1,xi=null,Vp.apply(Wp,arguments)}function qp(e,t,r,n,s,i,o,a,u){if(Gp.apply(this,arguments),Kn){if(Kn){var c=xi;Kn=!1,xi=null}else throw Error(E(198));_i||(_i=!0,ca=c)}}function Dr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ud(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mu(e){if(Dr(e)!==e)throw Error(E(188))}function Kp(e){var t=e.alternate;if(!t){if(t=Dr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return mu(s),e;if(i===n)return mu(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function Dd(e){return e=Kp(e),e!==null?Md(e):null}function Md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Md(e);if(t!==null)return t;e=e.sibling}return null}var Fd=Ze.unstable_scheduleCallback,gu=Ze.unstable_cancelCallback,Jp=Ze.unstable_shouldYield,Qp=Ze.unstable_requestPaint,pe=Ze.unstable_now,Yp=Ze.unstable_getCurrentPriorityLevel,ul=Ze.unstable_ImmediatePriority,zd=Ze.unstable_UserBlockingPriority,ki=Ze.unstable_NormalPriority,Xp=Ze.unstable_LowPriority,Bd=Ze.unstable_IdlePriority,qi=null,Nt=null;function Zp(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(qi,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:rm,em=Math.log,tm=Math.LN2;function rm(e){return e>>>=0,e===0?32:31-(em(e)/tm|0)|0}var Bs=64,Hs=4194304;function Vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Si(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Vn(a):(i&=o,i!==0&&(n=Vn(i)))}else o=r&~s,o!==0?n=Vn(o):i!==0&&(n=Vn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wt(t),s=1<<r,n|=e[r],t&=~s;return n}function nm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wt(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=nm(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hd(){var e=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),e}function ko(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ps(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=r}function im(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-wt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function cl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Q=0;function Vd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wd,dl,Gd,qd,Kd,ha=!1,Vs=[],sr=null,ir=null,or=null,ls=new Map,us=new Map,Xt=[],om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function In(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Os(t),t!==null&&dl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function am(e,t,r,n,s){switch(t){case"focusin":return sr=In(sr,e,t,r,n,s),!0;case"dragenter":return ir=In(ir,e,t,r,n,s),!0;case"mouseover":return or=In(or,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ls.set(i,In(ls.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,us.set(i,In(us.get(i)||null,e,t,r,n,s)),!0}return!1}function Jd(e){var t=br(e.target);if(t!==null){var r=Dr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ud(r),t!==null){e.blockedOn=t,Kd(e.priority,function(){Gd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);aa=n,r.target.dispatchEvent(n),aa=null}else return t=Os(r),t!==null&&dl(t),e.blockedOn=r,!1;t.shift()}return!0}function yu(e,t,r){ai(e)&&r.delete(t)}function lm(){ha=!1,sr!==null&&ai(sr)&&(sr=null),ir!==null&&ai(ir)&&(ir=null),or!==null&&ai(or)&&(or=null),ls.forEach(yu),us.forEach(yu)}function Ln(e,t){e.blockedOn===t&&(e.blockedOn=null,ha||(ha=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,lm)))}function cs(e){function t(s){return Ln(s,e)}if(0<Vs.length){Ln(Vs[0],e);for(var r=1;r<Vs.length;r++){var n=Vs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(sr!==null&&Ln(sr,e),ir!==null&&Ln(ir,e),or!==null&&Ln(or,e),ls.forEach(t),us.forEach(t),r=0;r<Xt.length;r++)n=Xt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xt.length&&(r=Xt[0],r.blockedOn===null);)Jd(r),r.blockedOn===null&&Xt.shift()}var cn=Ft.ReactCurrentBatchConfig,ji=!0;function um(e,t,r,n){var s=Q,i=cn.transition;cn.transition=null;try{Q=1,hl(e,t,r,n)}finally{Q=s,cn.transition=i}}function cm(e,t,r,n){var s=Q,i=cn.transition;cn.transition=null;try{Q=4,hl(e,t,r,n)}finally{Q=s,cn.transition=i}}function hl(e,t,r,n){if(ji){var s=fa(e,t,r,n);if(s===null)Ro(e,t,n,Ei,r),vu(e,n);else if(am(s,e,t,r,n))n.stopPropagation();else if(vu(e,n),t&4&&-1<om.indexOf(e)){for(;s!==null;){var i=Os(s);if(i!==null&&Wd(i),i=fa(e,t,r,n),i===null&&Ro(e,t,n,Ei,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ro(e,t,n,null,r)}}var Ei=null;function fa(e,t,r,n){if(Ei=null,e=ll(n),e=br(e),e!==null)if(t=Dr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ud(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ei=e,null}function Qd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yp()){case ul:return 1;case zd:return 4;case ki:case Xp:return 16;case Bd:return 536870912;default:return 16}default:return 16}}var tr=null,fl=null,li=null;function Yd(){if(li)return li;var e,t=fl,r=t.length,n,s="value"in tr?tr.value:tr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return li=s.slice(e,1<n?1-n:void 0)}function ui(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function wu(){return!1}function tt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ws:wu,this.isPropagationStopped=wu,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=tt(bn),Ts=le({},bn,{view:0,detail:0}),dm=tt(Ts),So,jo,$n,Ki=le({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(So=e.screenX-$n.screenX,jo=e.screenY-$n.screenY):jo=So=0,$n=e),So)},movementY:function(e){return"movementY"in e?e.movementY:jo}}),xu=tt(Ki),hm=le({},Ki,{dataTransfer:0}),fm=tt(hm),pm=le({},Ts,{relatedTarget:0}),Eo=tt(pm),mm=le({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),gm=tt(mm),vm=le({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ym=tt(vm),wm=le({},bn,{data:0}),_u=tt(wm),xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=km[e])?!!t[e]:!1}function ml(){return Sm}var jm=le({},Ts,{key:function(e){if(e.key){var t=xm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Em=tt(jm),bm=le({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=tt(bm),Nm=le({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),Cm=tt(Nm),Pm=le({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tm=tt(Pm),Om=le({},Ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rm=tt(Om),Am=[9,13,27,32],gl=$t&&"CompositionEvent"in window,Jn=null;$t&&"documentMode"in document&&(Jn=document.documentMode);var Im=$t&&"TextEvent"in window&&!Jn,Xd=$t&&(!gl||Jn&&8<Jn&&11>=Jn),Su=" ",ju=!1;function Zd(e,t){switch(e){case"keyup":return Am.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Lm(e,t){switch(e){case"compositionend":return eh(t);case"keypress":return t.which!==32?null:(ju=!0,Su);case"textInput":return e=t.data,e===Su&&ju?null:e;default:return null}}function $m(e,t){if(Jr)return e==="compositionend"||!gl&&Zd(e,t)?(e=Yd(),li=fl=tr=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xd&&t.locale!=="ko"?null:t.data;default:return null}}var Um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Um[e.type]:t==="textarea"}function th(e,t,r,n){Rd(n),t=bi(t,"onChange"),0<t.length&&(r=new pl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Qn=null,ds=null;function Dm(e){hh(e,0)}function Ji(e){var t=Xr(e);if(Ed(t))return e}function Mm(e,t){if(e==="change")return t}var rh=!1;if($t){var bo;if($t){var No="oninput"in document;if(!No){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),No=typeof bu.oninput=="function"}bo=No}else bo=!1;rh=bo&&(!document.documentMode||9<document.documentMode)}function Nu(){Qn&&(Qn.detachEvent("onpropertychange",nh),ds=Qn=null)}function nh(e){if(e.propertyName==="value"&&Ji(ds)){var t=[];th(t,ds,e,ll(e)),$d(Dm,t)}}function Fm(e,t,r){e==="focusin"?(Nu(),Qn=t,ds=r,Qn.attachEvent("onpropertychange",nh)):e==="focusout"&&Nu()}function zm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ji(ds)}function Bm(e,t){if(e==="click")return Ji(t)}function Hm(e,t){if(e==="input"||e==="change")return Ji(t)}function Vm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Vm;function hs(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Jo.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function Cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pu(e,t){var r=Cu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cu(r)}}function sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ih(){for(var e=window,t=wi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wi(e.document)}return t}function vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wm(e){var t=ih(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sh(r.ownerDocument.documentElement,r)){if(n!==null&&vl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Pu(r,i);var o=Pu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gm=$t&&"documentMode"in document&&11>=document.documentMode,Qr=null,pa=null,Yn=null,ma=!1;function Tu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ma||Qr==null||Qr!==wi(n)||(n=Qr,"selectionStart"in n&&vl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yn&&hs(Yn,n)||(Yn=n,n=bi(pa,"onSelect"),0<n.length&&(t=new pl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qr)))}function Gs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yr={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},Co={},oh={};$t&&(oh=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Qi(e){if(Co[e])return Co[e];if(!Yr[e])return e;var t=Yr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in oh)return Co[e]=t[r];return e}var ah=Qi("animationend"),lh=Qi("animationiteration"),uh=Qi("animationstart"),ch=Qi("transitionend"),dh=new Map,Ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){dh.set(e,t),Ur(t,[e])}for(var Po=0;Po<Ou.length;Po++){var To=Ou[Po],qm=To.toLowerCase(),Km=To[0].toUpperCase()+To.slice(1);gr(qm,"on"+Km)}gr(ah,"onAnimationEnd");gr(lh,"onAnimationIteration");gr(uh,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(ch,"onTransitionEnd");gn("onMouseEnter",["mouseout","mouseover"]);gn("onMouseLeave",["mouseout","mouseover"]);gn("onPointerEnter",["pointerout","pointerover"]);gn("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wn));function Ru(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qp(n,t,void 0,e),e.currentTarget=null}function hh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Ru(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Ru(s,a,c),i=u}}}if(_i)throw e=ca,_i=!1,ca=null,e}function te(e,t){var r=t[xa];r===void 0&&(r=t[xa]=new Set);var n=e+"__bubble";r.has(n)||(fh(t,e,2,!1),r.add(n))}function Oo(e,t,r){var n=0;t&&(n|=4),fh(r,e,n,t)}var qs="_reactListening"+Math.random().toString(36).slice(2);function fs(e){if(!e[qs]){e[qs]=!0,xd.forEach(function(r){r!=="selectionchange"&&(Jm.has(r)||Oo(r,!1,e),Oo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qs]||(t[qs]=!0,Oo("selectionchange",!1,t))}}function fh(e,t,r,n){switch(Qd(t)){case 1:var s=um;break;case 4:s=cm;break;default:s=hl}r=s.bind(null,t,r,e),s=void 0,!ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ro(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=br(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}$d(function(){var c=i,d=ll(r),h=[];e:{var f=dh.get(e);if(f!==void 0){var v=pl,y=e;switch(e){case"keypress":if(ui(r)===0)break e;case"keydown":case"keyup":v=Em;break;case"focusin":y="focus",v=Eo;break;case"focusout":y="blur",v=Eo;break;case"beforeblur":case"afterblur":v=Eo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Cm;break;case ah:case lh:case uh:v=gm;break;case ch:v=Tm;break;case"scroll":v=dm;break;case"wheel":v=Rm;break;case"copy":case"cut":case"paste":v=ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ku}var w=(t&4)!==0,k=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=c,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=as(p,m),_!=null&&w.push(ps(p,_,g)))),k)break;p=p.return}0<w.length&&(f=new v(f,y,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==aa&&(y=r.relatedTarget||r.fromElement)&&(br(y)||y[Ut]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?br(y):null,y!==null&&(k=Dr(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=xu,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=ku,_="onPointerLeave",m="onPointerEnter",p="pointer"),k=v==null?f:Xr(v),g=y==null?f:Xr(y),f=new w(_,p+"leave",v,r,d),f.target=k,f.relatedTarget=g,_=null,br(d)===c&&(w=new w(m,p+"enter",y,r,d),w.target=g,w.relatedTarget=k,_=w),k=_,v&&y)t:{for(w=v,m=y,p=0,g=w;g;g=Br(g))p++;for(g=0,_=m;_;_=Br(_))g++;for(;0<p-g;)w=Br(w),p--;for(;0<g-p;)m=Br(m),g--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=Br(w),m=Br(m)}w=null}else w=null;v!==null&&Au(h,f,v,w,!1),y!==null&&k!==null&&Au(h,k,y,w,!0)}}e:{if(f=c?Xr(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var S=Mm;else if(Eu(f))if(rh)S=Hm;else{S=zm;var T=Fm}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Bm);if(S&&(S=S(e,c))){th(h,S,r,d);break e}T&&T(e,f,c),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&ra(f,"number",f.value)}switch(T=c?Xr(c):window,e){case"focusin":(Eu(T)||T.contentEditable==="true")&&(Qr=T,pa=c,Yn=null);break;case"focusout":Yn=pa=Qr=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Tu(h,r,d);break;case"selectionchange":if(Gm)break;case"keydown":case"keyup":Tu(h,r,d)}var C;if(gl)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Jr?Zd(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Xd&&r.locale!=="ko"&&(Jr||O!=="onCompositionStart"?O==="onCompositionEnd"&&Jr&&(C=Yd()):(tr=d,fl="value"in tr?tr.value:tr.textContent,Jr=!0)),T=bi(c,O),0<T.length&&(O=new _u(O,e,null,r,d),h.push({event:O,listeners:T}),C?O.data=C:(C=eh(r),C!==null&&(O.data=C)))),(C=Im?Lm(e,r):$m(e,r))&&(c=bi(c,"onBeforeInput"),0<c.length&&(d=new _u("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=C))}hh(h,t)})}function ps(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=as(e,r),i!=null&&n.unshift(ps(e,i,s)),i=as(e,t),i!=null&&n.push(ps(e,i,s))),e=e.return}return n}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Au(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=as(r,i),u!=null&&o.unshift(ps(r,u,a))):s||(u=as(r,i),u!=null&&o.push(ps(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Qm=/\r\n?/g,Ym=/\u0000|\uFFFD/g;function Iu(e){return(typeof e=="string"?e:""+e).replace(Qm,`
`).replace(Ym,"")}function Ks(e,t,r){if(t=Iu(t),Iu(e)!==t&&r)throw Error(E(425))}function Ni(){}var ga=null,va=null;function ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wa=typeof setTimeout=="function"?setTimeout:void 0,Xm=typeof clearTimeout=="function"?clearTimeout:void 0,Lu=typeof Promise=="function"?Promise:void 0,Zm=typeof queueMicrotask=="function"?queueMicrotask:typeof Lu<"u"?function(e){return Lu.resolve(null).then(e).catch(eg)}:wa;function eg(e){setTimeout(function(){throw e})}function Ao(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),cs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);cs(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $u(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Nn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Nn,ms="__reactProps$"+Nn,Ut="__reactContainer$"+Nn,xa="__reactEvents$"+Nn,tg="__reactListeners$"+Nn,rg="__reactHandles$"+Nn;function br(e){var t=e[bt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ut]||r[bt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$u(e);e!==null;){if(r=e[bt])return r;e=$u(e)}return t}e=r,r=e.parentNode}return null}function Os(e){return e=e[bt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Yi(e){return e[ms]||null}var _a=[],Zr=-1;function vr(e){return{current:e}}function re(e){0>Zr||(e.current=_a[Zr],_a[Zr]=null,Zr--)}function ee(e,t){Zr++,_a[Zr]=e.current,e.current=t}var mr={},Ae=vr(mr),Ve=vr(!1),Or=mr;function vn(e,t){var r=e.type.contextTypes;if(!r)return mr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function We(e){return e=e.childContextTypes,e!=null}function Ci(){re(Ve),re(Ae)}function Uu(e,t,r){if(Ae.current!==mr)throw Error(E(168));ee(Ae,t),ee(Ve,r)}function ph(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,Fp(e)||"Unknown",s));return le({},r,n)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mr,Or=Ae.current,ee(Ae,e),ee(Ve,Ve.current),!0}function Du(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=ph(e,t,Or),n.__reactInternalMemoizedMergedChildContext=e,re(Ve),re(Ae),ee(Ae,e)):re(Ve),ee(Ve,r)}var Rt=null,Xi=!1,Io=!1;function mh(e){Rt===null?Rt=[e]:Rt.push(e)}function ng(e){Xi=!0,mh(e)}function yr(){if(!Io&&Rt!==null){Io=!0;var e=0,t=Q;try{var r=Rt;for(Q=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rt=null,Xi=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Fd(ul,yr),s}finally{Q=t,Io=!1}}return null}var en=[],tn=0,Ti=null,Oi=0,it=[],ot=0,Rr=null,At=1,It="";function kr(e,t){en[tn++]=Oi,en[tn++]=Ti,Ti=e,Oi=t}function gh(e,t,r){it[ot++]=At,it[ot++]=It,it[ot++]=Rr,Rr=e;var n=At;e=It;var s=32-wt(n)-1;n&=~(1<<s),r+=1;var i=32-wt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,At=1<<32-wt(t)+s|r<<s|n,It=i+e}else At=1<<i|r<<s|n,It=e}function yl(e){e.return!==null&&(kr(e,1),gh(e,1,0))}function wl(e){for(;e===Ti;)Ti=en[--tn],en[tn]=null,Oi=en[--tn],en[tn]=null;for(;e===Rr;)Rr=it[--ot],it[ot]=null,It=it[--ot],it[ot]=null,At=it[--ot],it[ot]=null}var Xe=null,Ye=null,se=!1,yt=null;function vh(e,t){var r=at(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Rr!==null?{id:At,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=at(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xe=e,Ye=null,!0):!1;default:return!1}}function ka(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sa(e){if(se){var t=Ye;if(t){var r=t;if(!Mu(e,t)){if(ka(e))throw Error(E(418));t=ar(r.nextSibling);var n=Xe;t&&Mu(e,t)?vh(n,r):(e.flags=e.flags&-4097|2,se=!1,Xe=e)}}else{if(ka(e))throw Error(E(418));e.flags=e.flags&-4097|2,se=!1,Xe=e}}}function Fu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Js(e){if(e!==Xe)return!1;if(!se)return Fu(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ya(e.type,e.memoizedProps)),t&&(t=Ye)){if(ka(e))throw yh(),Error(E(418));for(;t;)vh(e,t),t=ar(t.nextSibling)}if(Fu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ye=ar(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Xe?ar(e.stateNode.nextSibling):null;return!0}function yh(){for(var e=Ye;e;)e=ar(e.nextSibling)}function yn(){Ye=Xe=null,se=!1}function xl(e){yt===null?yt=[e]:yt.push(e)}var sg=Ft.ReactCurrentBatchConfig;function Un(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zu(e){var t=e._init;return t(e._payload)}function wh(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=dr(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,_){return p===null||p.tag!==6?(p=zo(g,m.mode,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function u(m,p,g,_){var S=g.type;return S===Kr?d(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kt&&zu(S)===p.type)?(_=s(p,g.props),_.ref=Un(m,p,g),_.return=m,_):(_=gi(g.type,g.key,g.props,null,m.mode,_),_.ref=Un(m,p,g),_.return=m,_)}function c(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Bo(g,m.mode,_),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,_,S){return p===null||p.tag!==7?(p=Tr(g,m.mode,_,S),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=zo(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ms:return g=gi(p.type,p.key,p.props,null,m.mode,g),g.ref=Un(m,null,p),g.return=m,g;case qr:return p=Bo(p,m.mode,g),p.return=m,p;case Kt:var _=p._init;return h(m,_(p._payload),g)}if(Hn(p)||Rn(p))return p=Tr(p,m.mode,g,null),p.return=m,p;Qs(m,p)}return null}function f(m,p,g,_){var S=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:a(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ms:return g.key===S?u(m,p,g,_):null;case qr:return g.key===S?c(m,p,g,_):null;case Kt:return S=g._init,f(m,p,S(g._payload),_)}if(Hn(g)||Rn(g))return S!==null?null:d(m,p,g,_,null);Qs(m,g)}return null}function v(m,p,g,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(p,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ms:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,S);case qr:return m=m.get(_.key===null?g:_.key)||null,c(p,m,_,S);case Kt:var T=_._init;return v(m,p,g,T(_._payload),S)}if(Hn(_)||Rn(_))return m=m.get(g)||null,d(p,m,_,S,null);Qs(p,_)}return null}function y(m,p,g,_){for(var S=null,T=null,C=p,O=p=0,G=null;C!==null&&O<g.length;O++){C.index>O?(G=C,C=null):G=C.sibling;var U=f(m,C,g[O],_);if(U===null){C===null&&(C=G);break}e&&C&&U.alternate===null&&t(m,C),p=i(U,p,O),T===null?S=U:T.sibling=U,T=U,C=G}if(O===g.length)return r(m,C),se&&kr(m,O),S;if(C===null){for(;O<g.length;O++)C=h(m,g[O],_),C!==null&&(p=i(C,p,O),T===null?S=C:T.sibling=C,T=C);return se&&kr(m,O),S}for(C=n(m,C);O<g.length;O++)G=v(C,m,O,g[O],_),G!==null&&(e&&G.alternate!==null&&C.delete(G.key===null?O:G.key),p=i(G,p,O),T===null?S=G:T.sibling=G,T=G);return e&&C.forEach(function(ge){return t(m,ge)}),se&&kr(m,O),S}function w(m,p,g,_){var S=Rn(g);if(typeof S!="function")throw Error(E(150));if(g=S.call(g),g==null)throw Error(E(151));for(var T=S=null,C=p,O=p=0,G=null,U=g.next();C!==null&&!U.done;O++,U=g.next()){C.index>O?(G=C,C=null):G=C.sibling;var ge=f(m,C,U.value,_);if(ge===null){C===null&&(C=G);break}e&&C&&ge.alternate===null&&t(m,C),p=i(ge,p,O),T===null?S=ge:T.sibling=ge,T=ge,C=G}if(U.done)return r(m,C),se&&kr(m,O),S;if(C===null){for(;!U.done;O++,U=g.next())U=h(m,U.value,_),U!==null&&(p=i(U,p,O),T===null?S=U:T.sibling=U,T=U);return se&&kr(m,O),S}for(C=n(m,C);!U.done;O++,U=g.next())U=v(C,m,O,U.value,_),U!==null&&(e&&U.alternate!==null&&C.delete(U.key===null?O:U.key),p=i(U,p,O),T===null?S=U:T.sibling=U,T=U);return e&&C.forEach(function(Pe){return t(m,Pe)}),se&&kr(m,O),S}function k(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===Kr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ms:e:{for(var S=g.key,T=p;T!==null;){if(T.key===S){if(S=g.type,S===Kr){if(T.tag===7){r(m,T.sibling),p=s(T,g.props.children),p.return=m,m=p;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kt&&zu(S)===T.type){r(m,T.sibling),p=s(T,g.props),p.ref=Un(m,T,g),p.return=m,m=p;break e}r(m,T);break}else t(m,T);T=T.sibling}g.type===Kr?(p=Tr(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=gi(g.type,g.key,g.props,null,m.mode,_),_.ref=Un(m,p,g),_.return=m,m=_)}return o(m);case qr:e:{for(T=g.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=Bo(g,m.mode,_),p.return=m,m=p}return o(m);case Kt:return T=g._init,k(m,p,T(g._payload),_)}if(Hn(g))return y(m,p,g,_);if(Rn(g))return w(m,p,g,_);Qs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=zo(g,m.mode,_),p.return=m,m=p),o(m)):r(m,p)}return k}var wn=wh(!0),xh=wh(!1),Ri=vr(null),Ai=null,rn=null,_l=null;function kl(){_l=rn=Ai=null}function Sl(e){var t=Ri.current;re(Ri),e._currentValue=t}function ja(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function dn(e,t){Ai=e,_l=rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(_l!==e)if(e={context:e,memoizedValue:t,next:null},rn===null){if(Ai===null)throw Error(E(308));rn=e,Ai.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var Nr=null;function jl(e){Nr===null?Nr=[e]:Nr.push(e)}function _h(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,jl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Dt(e,n)}function Dt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jt=!1;function El(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dt(e,r)}return s=n.interleaved,s===null?(t.next=t,jl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dt(e,r)}function ci(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cl(e,r)}}function Bu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ii(e,t,r,n){var s=e.updateQueue;Jt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var f=a.lane,v=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,w=a;switch(f=t,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=le({},h,f);break e;case 2:Jt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ir|=o,e.lanes=o,e.memoizedState=h}}function Hu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var Rs={},Ct=vr(Rs),gs=vr(Rs),vs=vr(Rs);function Cr(e){if(e===Rs)throw Error(E(174));return e}function bl(e,t){switch(ee(vs,t),ee(gs,e),ee(Ct,Rs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sa(t,e)}re(Ct),ee(Ct,t)}function xn(){re(Ct),re(gs),re(vs)}function Sh(e){Cr(vs.current);var t=Cr(Ct.current),r=sa(t,e.type);t!==r&&(ee(gs,e),ee(Ct,r))}function Nl(e){gs.current===e&&(re(Ct),re(gs))}var oe=vr(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lo=[];function Cl(){for(var e=0;e<Lo.length;e++)Lo[e]._workInProgressVersionPrimary=null;Lo.length=0}var di=Ft.ReactCurrentDispatcher,$o=Ft.ReactCurrentBatchConfig,Ar=0,ae=null,we=null,ke=null,$i=!1,Xn=!1,ys=0,ig=0;function Te(){throw Error(E(321))}function Pl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_t(e[r],t[r]))return!1;return!0}function Tl(e,t,r,n,s,i){if(Ar=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,di.current=e===null||e.memoizedState===null?ug:cg,e=r(n,s),Xn){i=0;do{if(Xn=!1,ys=0,25<=i)throw Error(E(301));i+=1,ke=we=null,t.updateQueue=null,di.current=dg,e=r(n,s)}while(Xn)}if(di.current=Ui,t=we!==null&&we.next!==null,Ar=0,ke=we=ae=null,$i=!1,t)throw Error(E(300));return e}function Ol(){var e=ys!==0;return ys=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ae.memoizedState=ke=e:ke=ke.next=e,ke}function dt(){if(we===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=ke===null?ae.memoizedState:ke.next;if(t!==null)ke=t,we=e;else{if(e===null)throw Error(E(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},ke===null?ae.memoizedState=ke=e:ke=ke.next=e}return ke}function ws(e,t){return typeof t=="function"?t(e):t}function Uo(e){var t=dt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=we,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((Ar&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,ae.lanes|=d,Ir|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,_t(n,t.memoizedState)||(He=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,Ir|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Do(e){var t=dt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_t(i,t.memoizedState)||(He=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function jh(){}function Eh(e,t){var r=ae,n=dt(),s=t(),i=!_t(n.memoizedState,s);if(i&&(n.memoizedState=s,He=!0),n=n.queue,Rl(Ch.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ke!==null&&ke.memoizedState.tag&1){if(r.flags|=2048,xs(9,Nh.bind(null,r,n,s,t),void 0,null),je===null)throw Error(E(349));Ar&30||bh(r,t,s)}return s}function bh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Nh(e,t,r,n){t.value=r,t.getSnapshot=n,Ph(t)&&Th(e)}function Ch(e,t,r){return r(function(){Ph(t)&&Th(e)})}function Ph(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_t(e,r)}catch{return!0}}function Th(e){var t=Dt(e,1);t!==null&&xt(t,e,1,-1)}function Vu(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=lg.bind(null,ae,e),[t.memoizedState,e]}function xs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Oh(){return dt().memoizedState}function hi(e,t,r,n){var s=Et();ae.flags|=e,s.memoizedState=xs(1|t,r,void 0,n===void 0?null:n)}function Zi(e,t,r,n){var s=dt();n=n===void 0?null:n;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,n!==null&&Pl(n,o.deps)){s.memoizedState=xs(t,r,i,n);return}}ae.flags|=e,s.memoizedState=xs(1|t,r,i,n)}function Wu(e,t){return hi(8390656,8,e,t)}function Rl(e,t){return Zi(2048,8,e,t)}function Rh(e,t){return Zi(4,2,e,t)}function Ah(e,t){return Zi(4,4,e,t)}function Ih(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lh(e,t,r){return r=r!=null?r.concat([e]):null,Zi(4,4,Ih.bind(null,t,e),r)}function Al(){}function $h(e,t){var r=dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Uh(e,t){var r=dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Dh(e,t,r){return Ar&21?(_t(r,t)||(r=Hd(),ae.lanes|=r,Ir|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=r)}function og(e,t){var r=Q;Q=r!==0&&4>r?r:4,e(!0);var n=$o.transition;$o.transition={};try{e(!1),t()}finally{Q=r,$o.transition=n}}function Mh(){return dt().memoizedState}function ag(e,t,r){var n=cr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fh(e))zh(t,r);else if(r=_h(e,t,r,n),r!==null){var s=Le();xt(r,e,n,s),Bh(r,t,n)}}function lg(e,t,r){var n=cr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fh(e))zh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,_t(a,o)){var u=t.interleaved;u===null?(s.next=s,jl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=_h(e,t,s,n),r!==null&&(s=Le(),xt(r,e,n,s),Bh(r,t,n))}}function Fh(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function zh(e,t){Xn=$i=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cl(e,r)}}var Ui={readContext:ct,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},ug={readContext:ct,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Wu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hi(4194308,4,Ih.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var r=Et();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Et();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ag.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Vu,useDebugValue:Al,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Vu(!1),t=e[0];return e=og.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ae,s=Et();if(se){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),je===null)throw Error(E(349));Ar&30||bh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Wu(Ch.bind(null,n,i,e),[e]),n.flags|=2048,xs(9,Nh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Et(),t=je.identifierPrefix;if(se){var r=It,n=At;r=(n&~(1<<32-wt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ys++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ig++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cg={readContext:ct,useCallback:$h,useContext:ct,useEffect:Rl,useImperativeHandle:Lh,useInsertionEffect:Rh,useLayoutEffect:Ah,useMemo:Uh,useReducer:Uo,useRef:Oh,useState:function(){return Uo(ws)},useDebugValue:Al,useDeferredValue:function(e){var t=dt();return Dh(t,we.memoizedState,e)},useTransition:function(){var e=Uo(ws)[0],t=dt().memoizedState;return[e,t]},useMutableSource:jh,useSyncExternalStore:Eh,useId:Mh,unstable_isNewReconciler:!1},dg={readContext:ct,useCallback:$h,useContext:ct,useEffect:Rl,useImperativeHandle:Lh,useInsertionEffect:Rh,useLayoutEffect:Ah,useMemo:Uh,useReducer:Do,useRef:Oh,useState:function(){return Do(ws)},useDebugValue:Al,useDeferredValue:function(e){var t=dt();return we===null?t.memoizedState=e:Dh(t,we.memoizedState,e)},useTransition:function(){var e=Do(ws)[0],t=dt().memoizedState;return[e,t]},useMutableSource:jh,useSyncExternalStore:Eh,useId:Mh,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ea(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var eo={isMounted:function(e){return(e=e._reactInternals)?Dr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Le(),s=cr(e),i=Lt(n,s);i.payload=t,r!=null&&(i.callback=r),t=lr(e,i,s),t!==null&&(xt(t,e,s,n),ci(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Le(),s=cr(e),i=Lt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=lr(e,i,s),t!==null&&(xt(t,e,s,n),ci(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Le(),n=cr(e),s=Lt(r,n);s.tag=2,t!=null&&(s.callback=t),t=lr(e,s,n),t!==null&&(xt(t,e,n,r),ci(t,e,n))}};function Gu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!hs(r,n)||!hs(s,i):!0}function Hh(e,t,r){var n=!1,s=mr,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=We(t)?Or:Ae.current,n=t.contextTypes,i=(n=n!=null)?vn(e,s):mr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function qu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function ba(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},El(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=We(t)?Or:Ae.current,s.context=vn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ea(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&eo.enqueueReplaceState(s,s.state,null),Ii(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function _n(e,t){try{var r="",n=t;do r+=Mp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Mo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Na(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hg=typeof WeakMap=="function"?WeakMap:Map;function Vh(e,t,r){r=Lt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mi||(Mi=!0,Ua=n),Na(e,t)},r}function Wh(e,t,r){r=Lt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Na(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Na(e,t),typeof n!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ku(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=bg.bind(null,e,t,r),t.then(e,e))}function Ju(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Lt(-1,1),t.tag=2,lr(r,t,1))),r.lanes|=1),e)}var fg=Ft.ReactCurrentOwner,He=!1;function Ie(e,t,r,n){t.child=e===null?xh(t,null,r,n):wn(t,e.child,r,n)}function Yu(e,t,r,n,s){r=r.render;var i=t.ref;return dn(t,s),n=Tl(e,t,r,n,i,s),r=Ol(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mt(e,t,s)):(se&&r&&yl(t),t.flags|=1,Ie(e,t,n,s),t.child)}function Xu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!zl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Gh(e,t,i,n,s)):(e=gi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:hs,r(o,n)&&e.ref===t.ref)return Mt(e,t,s)}return t.flags|=1,e=dr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Gh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(hs(i,n)&&e.ref===t.ref)if(He=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Mt(e,t,s)}return Ca(e,t,r,n,s)}function qh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(sn,Qe),Qe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(sn,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ee(sn,Qe),Qe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ee(sn,Qe),Qe|=n;return Ie(e,t,s,r),t.child}function Kh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,r,n,s){var i=We(r)?Or:Ae.current;return i=vn(t,i),dn(t,s),r=Tl(e,t,r,n,i,s),n=Ol(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mt(e,t,s)):(se&&n&&yl(t),t.flags|=1,Ie(e,t,r,s),t.child)}function Zu(e,t,r,n,s){if(We(r)){var i=!0;Pi(t)}else i=!1;if(dn(t,s),t.stateNode===null)fi(e,t),Hh(t,r,n),ba(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ct(c):(c=We(r)?Or:Ae.current,c=vn(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&qu(t,o,n,c),Jt=!1;var f=t.memoizedState;o.state=f,Ii(t,n,o,s),u=t.memoizedState,a!==n||f!==u||Ve.current||Jt?(typeof d=="function"&&(Ea(t,r,d,n),u=t.memoizedState),(a=Jt||Gu(t,r,a,n,f,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,kh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:mt(t.type,a),o.props=c,h=t.pendingProps,f=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=ct(u):(u=We(r)?Or:Ae.current,u=vn(t,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&qu(t,o,n,u),Jt=!1,f=t.memoizedState,o.state=f,Ii(t,n,o,s);var y=t.memoizedState;a!==h||f!==y||Ve.current||Jt?(typeof v=="function"&&(Ea(t,r,v,n),y=t.memoizedState),(c=Jt||Gu(t,r,c,n,f,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Pa(e,t,r,n,i,s)}function Pa(e,t,r,n,s,i){Kh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Du(t,r,!1),Mt(e,t,i);n=t.stateNode,fg.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=wn(t,e.child,null,i),t.child=wn(t,null,a,i)):Ie(e,t,a,i),t.memoizedState=n.state,s&&Du(t,r,!0),t.child}function Jh(e){var t=e.stateNode;t.pendingContext?Uu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uu(e,t.context,!1),bl(e,t.containerInfo)}function ec(e,t,r,n,s){return yn(),xl(s),t.flags|=256,Ie(e,t,r,n),t.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qh(e,t,r){var n=t.pendingProps,s=oe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(oe,s&1),e===null)return Sa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=no(o,n,0,null),e=Tr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Oa(r),t.memoizedState=Ta,e):Il(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return pg(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=dr(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dr(a,i):(i=Tr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Oa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ta,n}return i=e.child,e=i.sibling,n=dr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Il(e,t){return t=no({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ys(e,t,r,n){return n!==null&&xl(n),wn(t,e.child,null,r),e=Il(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pg(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Mo(Error(E(422))),Ys(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=no({mode:"visible",children:n.children},s,0,null),i=Tr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&wn(t,e.child,null,o),t.child.memoizedState=Oa(o),t.memoizedState=Ta,i);if(!(t.mode&1))return Ys(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=Mo(i,n,void 0),Ys(e,t,o,n)}if(a=(o&e.childLanes)!==0,He||a){if(n=je,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dt(e,s),xt(n,e,s,-1))}return Fl(),n=Mo(Error(E(421))),Ys(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ng.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ye=ar(s.nextSibling),Xe=t,se=!0,yt=null,e!==null&&(it[ot++]=At,it[ot++]=It,it[ot++]=Rr,At=e.id,It=e.overflow,Rr=t),t=Il(t,n.children),t.flags|=4096,t)}function tc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ja(e.return,t,r)}function Fo(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Yh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ie(e,t,n.children,r),n=oe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tc(e,r,t);else if(e.tag===19)tc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(oe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Li(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Fo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Li(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Fo(t,!0,r,null,i);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ir|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=dr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=dr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mg(e,t,r){switch(t.tag){case 3:Jh(t),yn();break;case 5:Sh(t);break;case 1:We(t.type)&&Pi(t);break;case 4:bl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ee(Ri,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ee(oe,oe.current&1),t.flags|=128,null):r&t.child.childLanes?Qh(e,t,r):(ee(oe,oe.current&1),e=Mt(e,t,r),e!==null?e.sibling:null);ee(oe,oe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Yh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(oe,oe.current),n)break;return null;case 22:case 23:return t.lanes=0,qh(e,t,r)}return Mt(e,t,r)}var Xh,Ra,Zh,ef;Xh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ra=function(){};Zh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Cr(Ct.current);var i=null;switch(r){case"input":s=ea(e,s),n=ea(e,n),i=[];break;case"select":s=le({},s,{value:void 0}),n=le({},n,{value:void 0}),i=[];break;case"textarea":s=na(e,s),n=na(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ni)}ia(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(is.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(is.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&te("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};ef=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dn(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gg(e,t,r){var n=t.pendingProps;switch(wl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return We(t.type)&&Ci(),Oe(t),null;case 3:return n=t.stateNode,xn(),re(Ve),re(Ae),Cl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(Fa(yt),yt=null))),Ra(e,t),Oe(t),null;case 5:Nl(t);var s=Cr(vs.current);if(r=t.type,e!==null&&t.stateNode!=null)Zh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return Oe(t),null}if(e=Cr(Ct.current),Js(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[bt]=t,n[ms]=i,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<Wn.length;s++)te(Wn[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":cu(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":hu(n,i),te("invalid",n)}ia(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,a,e),s=["children",""+a]):is.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&te("scroll",n)}switch(r){case"input":Fs(n),du(n,i,!0);break;case"textarea":Fs(n),fu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ni)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[bt]=t,e[ms]=n,Xh(e,t,!1,!1),t.stateNode=e;e:{switch(o=oa(r,n),r){case"dialog":te("cancel",e),te("close",e),s=n;break;case"iframe":case"object":case"embed":te("load",e),s=n;break;case"video":case"audio":for(s=0;s<Wn.length;s++)te(Wn[s],e);s=n;break;case"source":te("error",e),s=n;break;case"img":case"image":case"link":te("error",e),te("load",e),s=n;break;case"details":te("toggle",e),s=n;break;case"input":cu(e,n),s=ea(e,n),te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=le({},n,{value:void 0}),te("invalid",e);break;case"textarea":hu(e,n),s=na(e,n),te("invalid",e);break;default:s=n}ia(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Od(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Pd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&os(e,u):typeof u=="number"&&os(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(is.hasOwnProperty(i)?u!=null&&i==="onScroll"&&te("scroll",e):u!=null&&sl(e,i,u,o))}switch(r){case"input":Fs(e),du(e,n,!1);break;case"textarea":Fs(e),fu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+pr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?an(e,!!n.multiple,i,!1):n.defaultValue!=null&&an(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ni)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)ef(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=Cr(vs.current),Cr(Ct.current),Js(t)){if(n=t.stateNode,r=t.memoizedProps,n[bt]=t,(i=n.nodeValue!==r)&&(e=Xe,e!==null))switch(e.tag){case 3:Ks(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ks(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bt]=t,t.stateNode=n}return Oe(t),null;case 13:if(re(oe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Ye!==null&&t.mode&1&&!(t.flags&128))yh(),yn(),t.flags|=98560,i=!1;else if(i=Js(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[bt]=t}else yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else yt!==null&&(Fa(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?xe===0&&(xe=3):Fl())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return xn(),Ra(e,t),e===null&&fs(t.stateNode.containerInfo),Oe(t),null;case 10:return Sl(t.type._context),Oe(t),null;case 17:return We(t.type)&&Ci(),Oe(t),null;case 19:if(re(oe),i=t.memoizedState,i===null)return Oe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Dn(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Li(e),o!==null){for(t.flags|=128,Dn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(oe,oe.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>kn&&(t.flags|=128,n=!0,Dn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Li(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return Oe(t),null}else 2*pe()-i.renderingStartTime>kn&&r!==1073741824&&(t.flags|=128,n=!0,Dn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,r=oe.current,ee(oe,n?r&1|2:r&1),t):(Oe(t),null);case 22:case 23:return Ml(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Qe&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function vg(e,t){switch(wl(t),t.tag){case 1:return We(t.type)&&Ci(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(),re(Ve),re(Ae),Cl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nl(t),null;case 13:if(re(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(oe),null;case 4:return xn(),null;case 10:return Sl(t.type._context),null;case 22:case 23:return Ml(),null;case 24:return null;default:return null}}var Xs=!1,Re=!1,yg=typeof WeakSet=="function"?WeakSet:Set,R=null;function nn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(e,t,n)}else r.current=null}function Aa(e,t,r){try{r()}catch(n){de(e,t,n)}}var rc=!1;function wg(e,t){if(ga=ji,e=ih(),vl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(u=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(va={focusedElem:e,selectionRange:r},ji=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,k=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:mt(t.type,w),k);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){de(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return y=rc,rc=!1,y}function Zn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Aa(t,r,i)}s=s.next}while(s!==n)}}function to(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ia(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tf(e){var t=e.alternate;t!==null&&(e.alternate=null,tf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[ms],delete t[xa],delete t[tg],delete t[rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rf(e){return e.tag===5||e.tag===3||e.tag===4}function nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function La(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ni));else if(n!==4&&(e=e.child,e!==null))for(La(e,t,r),e=e.sibling;e!==null;)La(e,t,r),e=e.sibling}function $a(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($a(e,t,r),e=e.sibling;e!==null;)$a(e,t,r),e=e.sibling}var be=null,gt=!1;function Vt(e,t,r){for(r=r.child;r!==null;)nf(e,t,r),r=r.sibling}function nf(e,t,r){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(qi,r)}catch{}switch(r.tag){case 5:Re||nn(r,t);case 6:var n=be,s=gt;be=null,Vt(e,t,r),be=n,gt=s,be!==null&&(gt?(e=be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(gt?(e=be,r=r.stateNode,e.nodeType===8?Ao(e.parentNode,r):e.nodeType===1&&Ao(e,r),cs(e)):Ao(be,r.stateNode));break;case 4:n=be,s=gt,be=r.stateNode.containerInfo,gt=!0,Vt(e,t,r),be=n,gt=s;break;case 0:case 11:case 14:case 15:if(!Re&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Aa(r,t,o),s=s.next}while(s!==n)}Vt(e,t,r);break;case 1:if(!Re&&(nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){de(r,t,a)}Vt(e,t,r);break;case 21:Vt(e,t,r);break;case 22:r.mode&1?(Re=(n=Re)||r.memoizedState!==null,Vt(e,t,r),Re=n):Vt(e,t,r);break;default:Vt(e,t,r)}}function sc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yg),t.forEach(function(n){var s=Cg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function pt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,gt=!1;break e;case 3:be=a.stateNode.containerInfo,gt=!0;break e;case 4:be=a.stateNode.containerInfo,gt=!0;break e}a=a.return}if(be===null)throw Error(E(160));nf(i,o,s),be=null,gt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){de(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sf(t,e),t=t.sibling}function sf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(t,e),St(e),n&4){try{Zn(3,e,e.return),to(3,e)}catch(w){de(e,e.return,w)}try{Zn(5,e,e.return)}catch(w){de(e,e.return,w)}}break;case 1:pt(t,e),St(e),n&512&&r!==null&&nn(r,r.return);break;case 5:if(pt(t,e),St(e),n&512&&r!==null&&nn(r,r.return),e.flags&32){var s=e.stateNode;try{os(s,"")}catch(w){de(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bd(s,i),oa(a,o);var c=oa(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?Od(s,h):d==="dangerouslySetInnerHTML"?Pd(s,h):d==="children"?os(s,h):sl(s,d,h,c)}switch(a){case"input":ta(s,i);break;case"textarea":Nd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?an(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?an(s,!!i.multiple,i.defaultValue,!0):an(s,!!i.multiple,i.multiple?[]:"",!1))}s[ms]=i}catch(w){de(e,e.return,w)}}break;case 6:if(pt(t,e),St(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){de(e,e.return,w)}}break;case 3:if(pt(t,e),St(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch(w){de(e,e.return,w)}break;case 4:pt(t,e),St(e);break;case 13:pt(t,e),St(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ul=pe())),n&4&&sc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Re=(c=Re)||d,pt(t,e),Re=c):pt(t,e),St(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,v=f.child,f.tag){case 0:case 11:case 14:case 15:Zn(4,f,f.return);break;case 1:nn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){de(n,r,w)}}break;case 5:nn(f,f.return);break;case 22:if(f.memoizedState!==null){oc(h);continue}}v!==null?(v.return=f,R=v):oc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Td("display",o))}catch(w){de(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){de(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pt(t,e),St(e),n&4&&sc(e);break;case 21:break;default:pt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rf(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(os(s,""),n.flags&=-33);var i=nc(e);$a(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=nc(e);La(e,a,o);break;default:throw Error(E(161))}}catch(u){de(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xg(e,t,r){R=e,of(e)}function of(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Xs;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Re;a=Xs;var c=Re;if(Xs=o,(Re=u)&&!c)for(R=s;R!==null;)o=R,u=o.child,o.tag===22&&o.memoizedState!==null?ac(s):u!==null?(u.return=o,R=u):ac(s);for(;i!==null;)R=i,of(i),i=i.sibling;R=s,Xs=a,Re=c}ic(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):ic(e)}}function ic(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||to(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Re)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:mt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hu(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&cs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Re||t.flags&512&&Ia(t)}catch(f){de(t,t.return,f)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function oc(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function ac(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{to(4,t)}catch(u){de(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){de(t,s,u)}}var i=t.return;try{Ia(t)}catch(u){de(t,i,u)}break;case 5:var o=t.return;try{Ia(t)}catch(u){de(t,o,u)}}}catch(u){de(t,t.return,u)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var _g=Math.ceil,Di=Ft.ReactCurrentDispatcher,Ll=Ft.ReactCurrentOwner,lt=Ft.ReactCurrentBatchConfig,V=0,je=null,ve=null,Ne=0,Qe=0,sn=vr(0),xe=0,_s=null,Ir=0,ro=0,$l=0,es=null,Fe=null,Ul=0,kn=1/0,Tt=null,Mi=!1,Ua=null,ur=null,Zs=!1,rr=null,Fi=0,ts=0,Da=null,pi=-1,mi=0;function Le(){return V&6?pe():pi!==-1?pi:pi=pe()}function cr(e){return e.mode&1?V&2&&Ne!==0?Ne&-Ne:sg.transition!==null?(mi===0&&(mi=Hd()),mi):(e=Q,e!==0||(e=window.event,e=e===void 0?16:Qd(e.type)),e):1}function xt(e,t,r,n){if(50<ts)throw ts=0,Da=null,Error(E(185));Ps(e,r,n),(!(V&2)||e!==je)&&(e===je&&(!(V&2)&&(ro|=r),xe===4&&Zt(e,Ne)),Ge(e,n),r===1&&V===0&&!(t.mode&1)&&(kn=pe()+500,Xi&&yr()))}function Ge(e,t){var r=e.callbackNode;sm(e,t);var n=Si(e,e===je?Ne:0);if(n===0)r!==null&&gu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gu(r),t===1)e.tag===0?ng(lc.bind(null,e)):mh(lc.bind(null,e)),Zm(function(){!(V&6)&&yr()}),r=null;else{switch(Vd(n)){case 1:r=ul;break;case 4:r=zd;break;case 16:r=ki;break;case 536870912:r=Bd;break;default:r=ki}r=pf(r,af.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function af(e,t){if(pi=-1,mi=0,V&6)throw Error(E(327));var r=e.callbackNode;if(hn()&&e.callbackNode!==r)return null;var n=Si(e,e===je?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zi(e,n);else{t=n;var s=V;V|=2;var i=uf();(je!==e||Ne!==t)&&(Tt=null,kn=pe()+500,Pr(e,t));do try{jg();break}catch(a){lf(e,a)}while(!0);kl(),Di.current=i,V=s,ve!==null?t=0:(je=null,Ne=0,t=xe)}if(t!==0){if(t===2&&(s=da(e),s!==0&&(n=s,t=Ma(e,s))),t===1)throw r=_s,Pr(e,0),Zt(e,n),Ge(e,pe()),r;if(t===6)Zt(e,n);else{if(s=e.current.alternate,!(n&30)&&!kg(s)&&(t=zi(e,n),t===2&&(i=da(e),i!==0&&(n=i,t=Ma(e,i))),t===1))throw r=_s,Pr(e,0),Zt(e,n),Ge(e,pe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:Sr(e,Fe,Tt);break;case 3:if(Zt(e,n),(n&130023424)===n&&(t=Ul+500-pe(),10<t)){if(Si(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Le(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wa(Sr.bind(null,e,Fe,Tt),t);break}Sr(e,Fe,Tt);break;case 4:if(Zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-wt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_g(n/1960))-n,10<n){e.timeoutHandle=wa(Sr.bind(null,e,Fe,Tt),n);break}Sr(e,Fe,Tt);break;case 5:Sr(e,Fe,Tt);break;default:throw Error(E(329))}}}return Ge(e,pe()),e.callbackNode===r?af.bind(null,e):null}function Ma(e,t){var r=es;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=zi(e,t),e!==2&&(t=Fe,Fe=r,t!==null&&Fa(t)),e}function Fa(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function kg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~$l,t&=~ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wt(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(V&6)throw Error(E(327));hn();var t=Si(e,0);if(!(t&1))return Ge(e,pe()),null;var r=zi(e,t);if(e.tag!==0&&r===2){var n=da(e);n!==0&&(t=n,r=Ma(e,n))}if(r===1)throw r=_s,Pr(e,0),Zt(e,t),Ge(e,pe()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,Fe,Tt),Ge(e,pe()),null}function Dl(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(kn=pe()+500,Xi&&yr())}}function Lr(e){rr!==null&&rr.tag===0&&!(V&6)&&hn();var t=V;V|=1;var r=lt.transition,n=Q;try{if(lt.transition=null,Q=1,e)return e()}finally{Q=n,lt.transition=r,V=t,!(V&6)&&yr()}}function Ml(){Qe=sn.current,re(sn)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Xm(r)),ve!==null)for(r=ve.return;r!==null;){var n=r;switch(wl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ci();break;case 3:xn(),re(Ve),re(Ae),Cl();break;case 5:Nl(n);break;case 4:xn();break;case 13:re(oe);break;case 19:re(oe);break;case 10:Sl(n.type._context);break;case 22:case 23:Ml()}r=r.return}if(je=e,ve=e=dr(e.current,null),Ne=Qe=t,xe=0,_s=null,$l=ro=Ir=0,Fe=es=null,Nr!==null){for(t=0;t<Nr.length;t++)if(r=Nr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Nr=null}return e}function lf(e,t){do{var r=ve;try{if(kl(),di.current=Ui,$i){for(var n=ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$i=!1}if(Ar=0,ke=we=ae=null,Xn=!1,ys=0,Ll.current=null,r===null||r.return===null){xe=1,_s=t,ve=null;break}e:{var i=e,o=r.return,a=r,u=t;if(t=Ne,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ju(o);if(v!==null){v.flags&=-257,Qu(v,o,a,i,t),v.mode&1&&Ku(i,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){Ku(i,c,t),Fl();break e}u=Error(E(426))}}else if(se&&a.mode&1){var k=Ju(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Qu(k,o,a,i,t),xl(_n(u,a));break e}}i=u=_n(u,a),xe!==4&&(xe=2),es===null?es=[i]:es.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Vh(i,u,t);Bu(i,m);break e;case 1:a=u;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ur===null||!ur.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Wh(i,a,t);Bu(i,_);break e}}i=i.return}while(i!==null)}df(r)}catch(S){t=S,ve===r&&r!==null&&(ve=r=r.return);continue}break}while(!0)}function uf(){var e=Di.current;return Di.current=Ui,e===null?Ui:e}function Fl(){(xe===0||xe===3||xe===2)&&(xe=4),je===null||!(Ir&268435455)&&!(ro&268435455)||Zt(je,Ne)}function zi(e,t){var r=V;V|=2;var n=uf();(je!==e||Ne!==t)&&(Tt=null,Pr(e,t));do try{Sg();break}catch(s){lf(e,s)}while(!0);if(kl(),V=r,Di.current=n,ve!==null)throw Error(E(261));return je=null,Ne=0,xe}function Sg(){for(;ve!==null;)cf(ve)}function jg(){for(;ve!==null&&!Jp();)cf(ve)}function cf(e){var t=ff(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?df(e):ve=t,Ll.current=null}function df(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vg(r,t),r!==null){r.flags&=32767,ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,ve=null;return}}else if(r=gg(r,t,Qe),r!==null){ve=r;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);xe===0&&(xe=5)}function Sr(e,t,r){var n=Q,s=lt.transition;try{lt.transition=null,Q=1,Eg(e,t,r,n)}finally{lt.transition=s,Q=n}return null}function Eg(e,t,r,n){do hn();while(rr!==null);if(V&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(im(e,i),e===je&&(ve=je=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zs||(Zs=!0,pf(ki,function(){return hn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var o=Q;Q=1;var a=V;V|=4,Ll.current=null,wg(e,r),sf(r,e),Wm(va),ji=!!ga,va=ga=null,e.current=r,xg(r),Qp(),V=a,Q=o,lt.transition=i}else e.current=r;if(Zs&&(Zs=!1,rr=e,Fi=s),i=e.pendingLanes,i===0&&(ur=null),Zp(r.stateNode),Ge(e,pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Mi)throw Mi=!1,e=Ua,Ua=null,e;return Fi&1&&e.tag!==0&&hn(),i=e.pendingLanes,i&1?e===Da?ts++:(ts=0,Da=e):ts=0,yr(),null}function hn(){if(rr!==null){var e=Vd(Fi),t=lt.transition,r=Q;try{if(lt.transition=null,Q=16>e?16:e,rr===null)var n=!1;else{if(e=rr,rr=null,Fi=0,V&6)throw Error(E(331));var s=V;for(V|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Zn(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,v=d.return;if(tf(d),d===c){R=null;break}if(f!==null){f.return=v,R=f;break}R=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,R=m;break e}R=i.return}}var p=e.current;for(R=p;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=p;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:to(9,a)}}catch(S){de(a,a.return,S)}if(a===o){R=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,R=_;break e}R=a.return}}if(V=s,yr(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(qi,e)}catch{}n=!0}return n}finally{Q=r,lt.transition=t}}return!1}function uc(e,t,r){t=_n(r,t),t=Vh(e,t,1),e=lr(e,t,1),t=Le(),e!==null&&(Ps(e,1,t),Ge(e,t))}function de(e,t,r){if(e.tag===3)uc(e,e,r);else for(;t!==null;){if(t.tag===3){uc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ur===null||!ur.has(n))){e=_n(r,e),e=Wh(t,e,1),t=lr(t,e,1),e=Le(),t!==null&&(Ps(t,1,e),Ge(t,e));break}}t=t.return}}function bg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&r,je===e&&(Ne&r)===r&&(xe===4||xe===3&&(Ne&130023424)===Ne&&500>pe()-Ul?Pr(e,0):$l|=r),Ge(e,t)}function hf(e,t){t===0&&(e.mode&1?(t=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):t=1);var r=Le();e=Dt(e,t),e!==null&&(Ps(e,t,r),Ge(e,r))}function Ng(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hf(e,r)}function Cg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),hf(e,r)}var ff;ff=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)He=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return He=!1,mg(e,t,r);He=!!(e.flags&131072)}else He=!1,se&&t.flags&1048576&&gh(t,Oi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fi(e,t),e=t.pendingProps;var s=vn(t,Ae.current);dn(t,r),s=Tl(null,t,n,e,s,r);var i=Ol();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(n)?(i=!0,Pi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,El(t),s.updater=eo,t.stateNode=s,s._reactInternals=t,ba(t,n,e,r),t=Pa(null,t,n,!0,i,r)):(t.tag=0,se&&i&&yl(t),Ie(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Tg(n),e=mt(n,e),s){case 0:t=Ca(null,t,n,e,r);break e;case 1:t=Zu(null,t,n,e,r);break e;case 11:t=Yu(null,t,n,e,r);break e;case 14:t=Xu(null,t,n,mt(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mt(n,s),Ca(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mt(n,s),Zu(e,t,n,s,r);case 3:e:{if(Jh(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,kh(e,t),Ii(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=_n(Error(E(423)),t),t=ec(e,t,n,r,s);break e}else if(n!==s){s=_n(Error(E(424)),t),t=ec(e,t,n,r,s);break e}else for(Ye=ar(t.stateNode.containerInfo.firstChild),Xe=t,se=!0,yt=null,r=xh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yn(),n===s){t=Mt(e,t,r);break e}Ie(e,t,n,r)}t=t.child}return t;case 5:return Sh(t),e===null&&Sa(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ya(n,s)?o=null:i!==null&&ya(n,i)&&(t.flags|=32),Kh(e,t),Ie(e,t,o,r),t.child;case 6:return e===null&&Sa(t),null;case 13:return Qh(e,t,r);case 4:return bl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wn(t,null,n,r):Ie(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mt(n,s),Yu(e,t,n,s,r);case 7:return Ie(e,t,t.pendingProps,r),t.child;case 8:return Ie(e,t,t.pendingProps.children,r),t.child;case 12:return Ie(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ee(Ri,n._currentValue),n._currentValue=o,i!==null)if(_t(i.value,o)){if(i.children===s.children&&!Ve.current){t=Mt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Lt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),ja(i.return,r,t),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ja(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ie(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,dn(t,r),s=ct(s),n=n(s),t.flags|=1,Ie(e,t,n,r),t.child;case 14:return n=t.type,s=mt(n,t.pendingProps),s=mt(n.type,s),Xu(e,t,n,s,r);case 15:return Gh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mt(n,s),fi(e,t),t.tag=1,We(n)?(e=!0,Pi(t)):e=!1,dn(t,r),Hh(t,n,s),ba(t,n,s,r),Pa(null,t,n,!0,e,r);case 19:return Yh(e,t,r);case 22:return qh(e,t,r)}throw Error(E(156,t.tag))};function pf(e,t){return Fd(e,t)}function Pg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,r,n){return new Pg(e,t,r,n)}function zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tg(e){if(typeof e=="function")return zl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ol)return 11;if(e===al)return 14}return 2}function dr(e,t){var r=e.alternate;return r===null?(r=at(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gi(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")zl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kr:return Tr(r.children,s,i,t);case il:o=8,s|=8;break;case Qo:return e=at(12,r,t,s|2),e.elementType=Qo,e.lanes=i,e;case Yo:return e=at(13,r,t,s),e.elementType=Yo,e.lanes=i,e;case Xo:return e=at(19,r,t,s),e.elementType=Xo,e.lanes=i,e;case Sd:return no(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _d:o=10;break e;case kd:o=9;break e;case ol:o=11;break e;case al:o=14;break e;case Kt:o=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=at(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Tr(e,t,r,n){return e=at(7,e,n,t),e.lanes=r,e}function no(e,t,r,n){return e=at(22,e,n,t),e.elementType=Sd,e.lanes=r,e.stateNode={isHidden:!1},e}function zo(e,t,r){return e=at(6,e,null,t),e.lanes=r,e}function Bo(e,t,r){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Og(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bl(e,t,r,n,s,i,o,a,u){return e=new Og(e,t,r,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=at(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(i),e}function Rg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mf(e){if(!e)return mr;e=e._reactInternals;e:{if(Dr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(We(r))return ph(e,r,t)}return t}function gf(e,t,r,n,s,i,o,a,u){return e=Bl(r,n,!0,e,s,i,o,a,u),e.context=mf(null),r=e.current,n=Le(),s=cr(r),i=Lt(n,s),i.callback=t??null,lr(r,i,s),e.current.lanes=s,Ps(e,s,n),Ge(e,n),e}function so(e,t,r,n){var s=t.current,i=Le(),o=cr(s);return r=mf(r),t.context===null?t.context=r:t.pendingContext=r,t=Lt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=lr(s,t,o),e!==null&&(xt(e,s,o,i),ci(e,s,o)),o}function Bi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hl(e,t){cc(e,t),(e=e.alternate)&&cc(e,t)}function Ag(){return null}var vf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vl(e){this._internalRoot=e}io.prototype.render=Vl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));so(e,t,null,null)};io.prototype.unmount=Vl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lr(function(){so(null,e,null,null)}),t[Ut]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=qd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xt.length&&t!==0&&t<Xt[r].priority;r++);Xt.splice(r,0,e),r===0&&Jd(e)}};function Wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dc(){}function Ig(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Bi(o);i.call(c)}}var o=gf(t,n,e,0,null,!1,!1,"",dc);return e._reactRootContainer=o,e[Ut]=o.current,fs(e.nodeType===8?e.parentNode:e),Lr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Bi(u);a.call(c)}}var u=Bl(e,0,!1,null,null,!1,!1,"",dc);return e._reactRootContainer=u,e[Ut]=u.current,fs(e.nodeType===8?e.parentNode:e),Lr(function(){so(t,u,r,n)}),u}function ao(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Bi(o);a.call(u)}}so(t,o,e,s)}else o=Ig(r,t,e,s,n);return Bi(o)}Wd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vn(t.pendingLanes);r!==0&&(cl(t,r|1),Ge(t,pe()),!(V&6)&&(kn=pe()+500,yr()))}break;case 13:Lr(function(){var n=Dt(e,1);if(n!==null){var s=Le();xt(n,e,1,s)}}),Hl(e,1)}};dl=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var r=Le();xt(t,e,134217728,r)}Hl(e,134217728)}};Gd=function(e){if(e.tag===13){var t=cr(e),r=Dt(e,t);if(r!==null){var n=Le();xt(r,e,t,n)}Hl(e,t)}};qd=function(){return Q};Kd=function(e,t){var r=Q;try{return Q=e,t()}finally{Q=r}};la=function(e,t,r){switch(t){case"input":if(ta(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Yi(n);if(!s)throw Error(E(90));Ed(n),ta(n,s)}}}break;case"textarea":Nd(e,r);break;case"select":t=r.value,t!=null&&an(e,!!r.multiple,t,!1)}};Id=Dl;Ld=Lr;var Lg={usingClientEntryPoint:!1,Events:[Os,Xr,Yi,Rd,Ad,Dl]},Mn={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$g={bundleType:Mn.bundleType,version:Mn.version,rendererPackageName:Mn.rendererPackageName,rendererConfig:Mn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dd(e),e===null?null:e.stateNode},findFiberByHostInstance:Mn.findFiberByHostInstance||Ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ei.isDisabled&&ei.supportsFiber)try{qi=ei.inject($g),Nt=ei}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg;et.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wl(t))throw Error(E(200));return Rg(e,t,null,r)};et.createRoot=function(e,t){if(!Wl(e))throw Error(E(299));var r=!1,n="",s=vf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bl(e,1,!1,null,null,r,!1,n,s),e[Ut]=t.current,fs(e.nodeType===8?e.parentNode:e),new Vl(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Dd(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Lr(e)};et.hydrate=function(e,t,r){if(!oo(t))throw Error(E(200));return ao(null,e,t,!0,r)};et.hydrateRoot=function(e,t,r){if(!Wl(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=vf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=gf(t,null,e,1,r??null,s,!1,i,o),e[Ut]=t.current,fs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new io(t)};et.render=function(e,t,r){if(!oo(t))throw Error(E(200));return ao(null,e,t,!1,r)};et.unmountComponentAtNode=function(e){if(!oo(e))throw Error(E(40));return e._reactRootContainer?(Lr(function(){ao(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};et.unstable_batchedUpdates=Dl;et.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oo(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return ao(e,t,r,!1,n)};et.version="18.3.1-next-f1338f8080-20240426";function yf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yf)}catch(e){console.error(e)}}yf(),vd.exports=et;var Ug=vd.exports,wf,hc=Ug;wf=hc.createRoot,hc.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(this,arguments)}var nr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nr||(nr={}));const fc="popstate";function Dg(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return za("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Hi(s)}return Fg(t,r,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mg(){return Math.random().toString(36).substr(2,8)}function pc(e,t){return{usr:e.state,key:e.key,idx:t}}function za(e,t,r,n){return r===void 0&&(r=null),ks({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cn(t):t,{state:r,key:t&&t.key||n||Mg()})}function Hi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Fg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=nr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(ks({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=nr.Pop;let k=d(),m=k==null?null:k-c;c=k,u&&u({action:a,location:w.location,delta:m})}function f(k,m){a=nr.Push;let p=za(w.location,k,m);c=d()+1;let g=pc(p,c),_=w.createHref(p);try{o.pushState(g,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&u&&u({action:a,location:w.location,delta:1})}function v(k,m){a=nr.Replace;let p=za(w.location,k,m);c=d();let g=pc(p,c),_=w.createHref(p);o.replaceState(g,"",_),i&&u&&u({action:a,location:w.location,delta:0})}function y(k){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof k=="string"?k:Hi(k);return p=p.replace(/ $/,"%20"),me(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let w={get action(){return a},get location(){return e(s,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(fc,h),u=k,()=>{s.removeEventListener(fc,h),u=null}},createHref(k){return t(s,k)},createURL:y,encodeLocation(k){let m=y(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(k){return o.go(k)}};return w}var mc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mc||(mc={}));function zg(e,t,r){return r===void 0&&(r="/"),Bg(e,t,r,!1)}function Bg(e,t,r,n){let s=typeof t=="string"?Cn(t):t,i=Gl(s.pathname||"/",r);if(i==null)return null;let o=_f(e);Hg(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=ev(i);a=Xg(o[u],c,n)}return a}function _f(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(me(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=hr([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_f(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Qg(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of kf(i.path))s(i,o,u)}),t}function kf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=kf(n.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Hg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Vg=/^:[\w-]+$/,Wg=3,Gg=2,qg=1,Kg=10,Jg=-2,gc=e=>e==="*";function Qg(e,t){let r=e.split("/"),n=r.length;return r.some(gc)&&(n+=Jg),t&&(n+=Gg),r.filter(s=>!gc(s)).reduce((s,i)=>s+(Vg.test(i)?Wg:i===""?qg:Kg),n)}function Yg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Xg(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],c=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=vc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=vc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:hr([i,h.pathname]),pathnameBase:sv(hr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=hr([i,h.pathnameBase]))}return o}function vc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Zg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return v&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Zg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ev(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function tv(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Cn(e):e;return{pathname:r?r.startsWith("/")?r:rv(r,t):t,search:iv(n),hash:ov(s)}}function rv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ho(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ql(e,t){let r=nv(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Kl(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Cn(e):(s=ks({},e),me(!s.pathname||!s.pathname.includes("?"),Ho("?","pathname","search",s)),me(!s.pathname||!s.pathname.includes("#"),Ho("#","pathname","hash",s)),me(!s.search||!s.search.includes("#"),Ho("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let u=tv(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const hr=e=>e.join("/").replace(/\/\/+/g,"/"),sv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ov=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function av(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sf=["post","put","patch","delete"];new Set(Sf);const lv=["get",...Sf];new Set(lv);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}const Jl=x.createContext(null),uv=x.createContext(null),wr=x.createContext(null),lo=x.createContext(null),zt=x.createContext({outlet:null,matches:[],isDataRoute:!1}),jf=x.createContext(null);function cv(e,t){let{relative:r}=t===void 0?{}:t;Pn()||me(!1);let{basename:n,navigator:s}=x.useContext(wr),{hash:i,pathname:o,search:a}=bf(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:hr([n,o])),s.createHref({pathname:u,search:a,hash:i})}function Pn(){return x.useContext(lo)!=null}function Mr(){return Pn()||me(!1),x.useContext(lo).location}function Ef(e){x.useContext(wr).static||x.useLayoutEffect(e)}function Bt(){let{isDataRoute:e}=x.useContext(zt);return e?jv():dv()}function dv(){Pn()||me(!1);let e=x.useContext(Jl),{basename:t,future:r,navigator:n}=x.useContext(wr),{matches:s}=x.useContext(zt),{pathname:i}=Mr(),o=JSON.stringify(ql(s,r.v7_relativeSplatPath)),a=x.useRef(!1);return Ef(()=>{a.current=!0}),x.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=Kl(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:hr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function hv(){let{matches:e}=x.useContext(zt),t=e[e.length-1];return t?t.params:{}}function bf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(wr),{matches:s}=x.useContext(zt),{pathname:i}=Mr(),o=JSON.stringify(ql(s,n.v7_relativeSplatPath));return x.useMemo(()=>Kl(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function fv(e,t){return pv(e,t)}function pv(e,t,r,n){Pn()||me(!1);let{navigator:s}=x.useContext(wr),{matches:i}=x.useContext(zt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Mr(),d;if(t){var h;let k=typeof t=="string"?Cn(t):t;u==="/"||(h=k.pathname)!=null&&h.startsWith(u)||me(!1),d=k}else d=c;let f=d.pathname||"/",v=f;if(u!=="/"){let k=u.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=zg(e,{pathname:v}),w=wv(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:hr([u,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:hr([u,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,n);return t&&w?x.createElement(lo.Provider,{value:{location:Ss({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:nr.Pop}},w):w}function mv(){let e=Sv(),t=av(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const gv=x.createElement(mv,null);class vv extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(zt.Provider,{value:this.props.routeContext},x.createElement(jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yv(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Jl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(zt.Provider,{value:t},n)}function wv(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||me(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:v}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,y=!1,w=null,k=null;r&&(v=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||gv,u&&(c<0&&f===0?(y=!0,k=null):c===f&&(y=!0,k=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let g;return v?g=w:y?g=k:h.route.Component?g=x.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,x.createElement(yv,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(vv,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Nf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nf||{}),Vi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vi||{});function xv(e){let t=x.useContext(Jl);return t||me(!1),t}function _v(e){let t=x.useContext(uv);return t||me(!1),t}function kv(e){let t=x.useContext(zt);return t||me(!1),t}function Cf(e){let t=kv(),r=t.matches[t.matches.length-1];return r.route.id||me(!1),r.route.id}function Sv(){var e;let t=x.useContext(jf),r=_v(Vi.UseRouteError),n=Cf(Vi.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jv(){let{router:e}=xv(Nf.UseNavigateStable),t=Cf(Vi.UseNavigateStable),r=x.useRef(!1);return Ef(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ss({fromRouteId:t},i)))},[e,t])}const yc={};function Ev(e,t){yc[t]||(yc[t]=!0,console.warn(t))}const wc=(e,t,r)=>Ev(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function bv(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&wc("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!t&&wc("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function xc(e){let{to:t,replace:r,state:n,relative:s}=e;Pn()||me(!1);let{future:i,static:o}=x.useContext(wr),{matches:a}=x.useContext(zt),{pathname:u}=Mr(),c=Bt(),d=Kl(t,ql(a,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return x.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function Wt(e){me(!1)}function Nv(e){let{basename:t="/",children:r=null,location:n,navigationType:s=nr.Pop,navigator:i,static:o=!1,future:a}=e;Pn()&&me(!1);let u=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:u,navigator:i,static:o,future:Ss({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof n=="string"&&(n=Cn(n));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:y="default"}=n,w=x.useMemo(()=>{let k=Gl(d,u);return k==null?null:{location:{pathname:k,search:h,hash:f,state:v,key:y},navigationType:s}},[u,d,h,f,v,y,s]);return w==null?null:x.createElement(wr.Provider,{value:c},x.createElement(lo.Provider,{children:r,value:w}))}function Cv(e){let{children:t,location:r}=e;return fv(Ba(t),r)}new Promise(()=>{});function Ba(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Ba(n.props.children,i));return}n.type!==Wt&&me(!1),!n.props.index||!n.props.children||me(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ba(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(this,arguments)}function Pv(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Tv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ov(e,t){return e.button===0&&(!t||t==="_self")&&!Tv(e)}function Va(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Rv(e,t){let r=Va(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Av=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Iv="6";try{window.__reactRouterVersion=Iv}catch{}const Lv="startTransition",_c=bp[Lv];function $v(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=Dg({window:s,v5Compat:!0}));let o=i.current,[a,u]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=x.useCallback(h=>{c&&_c?_c(()=>u(h)):u(h)},[u,c]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>bv(n),[n]),x.createElement(Nv,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const Uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:h}=t,f=Pv(t,Av),{basename:v}=x.useContext(wr),y,w=!1;if(typeof c=="string"&&Dv.test(c)&&(y=c,Uv))try{let g=new URL(window.location.href),_=c.startsWith("//")?new URL(g.protocol+c):new URL(c),S=Gl(_.pathname,v);_.origin===g.origin&&S!=null?c=S+_.search+_.hash:w=!0}catch{}let k=cv(c,{relative:s}),m=Mv(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:s,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||m(g)}return x.createElement("a",Ha({},f,{href:y||k,onClick:w||i?n:p,ref:r,target:u}))});var kc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kc||(kc={}));var Sc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Sc||(Sc={}));function Mv(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,u=Bt(),c=Mr(),d=bf(e,{relative:o});return x.useCallback(h=>{if(Ov(h,r)){h.preventDefault();let f=n!==void 0?n:Hi(c)===Hi(d);u(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,d,n,s,r,e,i,o,a])}function Pf(e){let t=x.useRef(Va(e)),r=x.useRef(!1),n=Mr(),s=x.useMemo(()=>Rv(n.search,r.current?null:t.current),[n.search]),i=Bt(),o=x.useCallback((a,u)=>{const c=Va(typeof a=="function"?a(s):a);r.current=!0,i("?"+c,u)},[i,s]);return[s,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>x.createElement("svg",{ref:d,...Fv,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${zv(e)}`,a].join(" "),...c},[...t.map(([h,f])=>x.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=J("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=J("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=J("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=J("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=J("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=J("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=J("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=J("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=J("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iy="modulepreload",oy=function(e){return"/"+e},Nc={},Sn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=oy(u),u in Nc)return;Nc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":iy,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},ay=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sn(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ly extends Xl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uy extends Xl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cy extends Xl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wa||(Wa={}));var dy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class hy{constructor(t,{headers:r={},customFetch:n,region:s=Wa.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=ay(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return dy(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(a["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new ly(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new uy(d);if(!d.ok)throw new cy(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var ze={},Zl={},uo={},As={},co={},ho={},fy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=fy();const py=jn.fetch,Af=jn.fetch.bind(jn),If=jn.Headers,my=jn.Request,gy=jn.Response,Tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:If,Request:my,Response:gy,default:Af,fetch:py},Symbol.toStringTag,{value:"Module"})),vy=cp(Tn);var fo={};Object.defineProperty(fo,"__esModule",{value:!0});let yy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};fo.default=yy;var Lf=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ho,"__esModule",{value:!0});const wy=Lf(vy),xy=Lf(fo);let _y=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=wy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&w===""?(f=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new xy.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}};ho.default=_y;var ky=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(co,"__esModule",{value:!0});const Sy=ky(ho);let jy=class extends Sy.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};co.default=jy;var Ey=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(As,"__esModule",{value:!0});const by=Ey(co);let Ny=class extends by.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};As.default=Ny;var Cy=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uo,"__esModule",{value:!0});const Fn=Cy(As);let Py=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Fn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new Fn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Fn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Fn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Fn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};uo.default=Py;var po={},mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.version=void 0;mo.version="0.0.0-automated";Object.defineProperty(po,"__esModule",{value:!0});po.DEFAULT_HEADERS=void 0;const Ty=mo;po.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ty.version}`};var $f=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zl,"__esModule",{value:!0});const Oy=$f(uo),Ry=$f(As),Ay=po;let Iy=class Uf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ay.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Oy.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Uf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Ry.default({method:o,url:a,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Zl.default=Iy;var On=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ze,"__esModule",{value:!0});ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;const Df=On(Zl);ze.PostgrestClient=Df.default;const Mf=On(uo);ze.PostgrestQueryBuilder=Mf.default;const Ff=On(As);ze.PostgrestFilterBuilder=Ff.default;const zf=On(co);ze.PostgrestTransformBuilder=zf.default;const Bf=On(ho);ze.PostgrestBuilder=Bf.default;const Hf=On(fo);ze.PostgrestError=Hf.default;var Ly=ze.default={PostgrestClient:Df.default,PostgrestQueryBuilder:Mf.default,PostgrestFilterBuilder:Ff.default,PostgrestTransformBuilder:zf.default,PostgrestBuilder:Bf.default,PostgrestError:Hf.default};const{PostgrestClient:$y,PostgrestQueryBuilder:cx,PostgrestFilterBuilder:dx,PostgrestTransformBuilder:hx,PostgrestBuilder:fx,PostgrestError:px}=Ly,Uy="2.11.2",Dy={"X-Client-Info":`realtime-js/${Uy}`},My="1.0.0",Vf=1e4,Fy=1e3;var mn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mn||(mn={}));var Je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Je||(Je={}));var vt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vt||(vt={}));var Ga;(function(e){e.websocket="websocket"})(Ga||(Ga={}));var Er;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Er||(Er={}));class zy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class Wf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Z||(Z={}));const Cc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=By(o,e,t,s),i),{})},By=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Gf(i,o):qa(o)},Gf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Gy(t,r)}switch(e){case Z.bool:return Hy(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return Vy(t);case Z.json:case Z.jsonb:return Wy(t);case Z.timestamp:return qy(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return qa(t);default:return qa(t)}},qa=e=>e,Hy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gy=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Gf(t,a))}return e},qy=e=>typeof e=="string"?e.replace(" ","T"):e,qf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Vo{constructor(t,r,n={},s=Vf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pc||(Pc={}));class rs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=rs.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(k=>k.presence_ref),v=h.map(k=>k.presence_ref),y=d.filter(k=>v.indexOf(k.presence_ref)<0),w=h.filter(k=>f.indexOf(k.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(u[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),d.length>0){const h=t[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[a].unshift(...f)}n(a,d,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,u),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tc||(Tc={}));var Oc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oc||(Oc={}));var Ot;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ot||(Ot={}));class eu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vo(this,vt.join,this.params,this.timeout),this.rejoinTimer=new Wf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new rs(this),this.broadcastEndpointURL=qf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Ot.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ot.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Ot.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<v;w++){const k=f[w],{filter:{event:m,schema:p,table:g,filter:_}}=k,S=d&&d[w];if(S&&S.event===m&&S.schema===p&&S.table===g&&S.filter===_)y.push(Object.assign(Object.assign({},k),{id:S.id}));else{this.unsubscribe(),t==null||t(Ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ot.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Vo(this,vt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vo(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=vt;if(n&&[a,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,k;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(w=v.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,k,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,S=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const _=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:k,commit_timestamp:m,type:p,errors:g}=y;f=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&eu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vt.close,{},t)}_onError(t){this._on(vt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Cc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Cc(t.columns,t.old_record)),r}}const Ky=()=>{},Jy=typeof WebSocket<"u",Qy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yy{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Dy,this.params={},this.timeout=Vf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ky,this.conn=null,this.sendBuffer=[],this.serializer=new zy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Sn(async()=>{const{default:u}=await Promise.resolve().then(()=>Tn);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ga.websocket}`,this.httpEndpoint=qf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Jy){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Xy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Sn(async()=>{const{default:t}=await import("./browser-2Q0gDEsx.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:My}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case mn.connecting:return Er.Connecting;case mn.open:return Er.Open;case mn.closing:return Er.Closing;default:return Er.Closed}}isConnected(){return this.connectionState()===Er.Open}channel(t,r={config:{}}){const n=new eu(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(vt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Fy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(vt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Qy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Xy{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=mn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class tu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Zy extends tu{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ka extends tu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var e0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const Kf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sn(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},t0=()=>e0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sn(()=>Promise.resolve().then(()=>Tn),void 0)).Response:Response}),Ja=e=>{if(Array.isArray(e))return e.map(r=>Ja(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ja(n)}),t};var Fr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const Wo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r0=(e,t,r)=>Fr(void 0,void 0,void 0,function*(){const n=yield t0();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Zy(Wo(s),e.status||500))}).catch(s=>{t(new Ka(Wo(s),s))}):t(new Ka(Wo(e),e))}),n0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Is(e,t,r,n,s,i){return Fr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,n0(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>r0(u,a,n))})})}function Wi(e,t,r,n){return Fr(this,void 0,void 0,function*(){return Is(e,"GET",t,r,n)})}function Qt(e,t,r,n,s){return Fr(this,void 0,void 0,function*(){return Is(e,"POST",t,n,s,r)})}function s0(e,t,r,n,s){return Fr(this,void 0,void 0,function*(){return Is(e,"PUT",t,n,s,r)})}function i0(e,t,r,n){return Fr(this,void 0,void 0,function*(){return Is(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Jf(e,t,r,n,s){return Fr(this,void 0,void 0,function*(){return Is(e,"DELETE",t,n,s,r)})}var Me=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const o0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a0{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Kf(s)}uploadOrUpdate(t,r,n,s){return Me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Rc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Rc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(u){if(_e(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Me(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Qt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new tu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}update(t,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Qt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Me(this,void 0,void 0,function*(){try{const s=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}download(t,r){return Me(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Wi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}info(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Wi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ja(n),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}exists(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield i0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(_e(n)&&n instanceof Ka){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}list(t,r,n){return Me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},o0),r),{prefix:t||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const l0="2.7.1",u0={"X-Client-Info":`storage-js/${l0}`};var Hr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class c0{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},u0),r),this.fetch=Kf(n)}listBuckets(){return Hr(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}getBucket(t){return Hr(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Hr(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Hr(this,void 0,void 0,function*(){try{return{data:yield s0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Hr(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Hr(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}}class d0 extends c0{constructor(t,r={},n){super(t,r,n)}from(t){return new a0(this.url,this.headers,t,this.fetch)}}const h0="2.47.10";let Gn="";typeof Deno<"u"?Gn="deno":typeof document<"u"?Gn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gn="react-native":Gn="node";const f0={"X-Client-Info":`supabase-js-${Gn}/${h0}`},p0={headers:f0},m0={schema:"public"},g0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v0={};var y0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const w0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Af:t=fetch,(...r)=>t(...r)},x0=()=>typeof Headers>"u"?If:Headers,_0=(e,t,r)=>{const n=w0(r),s=x0();return(i,o)=>y0(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var k0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};function S0(e){return e.replace(/\/$/,"")}function j0(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:u,global:c}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>k0(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Qf="2.67.3",E0="http://localhost:9999",b0="supabase.auth.token",N0={"X-Client-Info":`gotrue-js/${Qf}`},Ac=10,Qa="X-Supabase-Api-Version",Yf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function C0(e){return Math.round(Date.now()/1e3)+e}function P0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const jt=()=>typeof window<"u"&&typeof document<"u",_r={tested:!1,writable:!1},ns=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_r.tested)return _r.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_r.tested=!0,_r.writable=!0}catch{_r.tested=!0,_r.writable=!1}return _r.writable};function T0(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Xf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sn(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},O0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ti=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ri=async(e,t)=>{await e.removeItem(t)};function R0(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,u,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),n=o<<2|a>>4,s=(a&15)<<4|u>>2,i=(u&3)<<6|c,r=r+String.fromCharCode(n),u!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class go{constructor(){this.promise=new go.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}go.promiseConstructor=Promise;function Ic(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(R0(n))}async function A0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function I0(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function L0(e){return("0"+e.toString(16)).substr(-2)}function $0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,L0).join("")}async function U0(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function D0(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function M0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await U0(e);return D0(r)}async function Vr(e,t,r=!1){const n=$0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Zf(e,`${t}-code-verifier`,s);const i=await M0(n);return[i,n===i?"plain":"s256"]}const F0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function z0(e){const t=e.headers.get(Qa);if(!t||!t.match(F0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class ru extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function F(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class B0 extends ru{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function H0(e){return F(e)&&e.name==="AuthApiError"}class ep extends ru{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zr extends ru{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Gt extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function V0(e){return F(e)&&e.name==="AuthSessionMissingError"}class Go extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ni extends zr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class si extends zr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W0(e){return F(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lc extends zr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ya extends zr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qo(e){return F(e)&&e.name==="AuthRetryableFetchError"}class $c extends zr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var G0=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const jr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),q0=[502,503,504];async function Uc(e){var t;if(!O0(e))throw new Ya(jr(e),0);if(q0.includes(e.status))throw new Ya(jr(e),e.status);let r;try{r=await e.json()}catch(i){throw new ep(jr(i),i)}let n;const s=z0(e);if(s&&s.getTime()>=Yf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $c(jr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new $c(jr(r),e.status,r.weak_password.reasons);throw new B0(jr(r),e.status||500,n)}const K0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function H(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Qa]||(i[Qa]=Yf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await J0(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function J0(e,t,r,n,s,i){const o=K0(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new Ya(jr(u),0)}if(a.ok||await Uc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Uc(u)}}function qt(e){var t;let r=null;Z0(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=C0(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dc(e){const t=qt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function er(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Q0(e){return{data:e,error:null}}function Y0(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=G0(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function X0(e){return e}function Z0(e){return e.access_token&&e.refresh_token&&e.expires_in}var ew=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class tw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Xf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:er})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ew(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Y0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:er})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:X0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);c[`${k}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:er})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:er})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:er})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}}const rw={getItem:e=>ns()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ns()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ns()&&globalThis.localStorage.removeItem(e)}};function Mc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function nw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wr={debug:!!(globalThis&&ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sw extends tp{}async function iw(e,t,r){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}nw();const ow={url:E0,storageKey:b0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:N0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},zn=30*1e3,Fc=3;async function zc(e,t,r){return await r()}class Es{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Es.nextInstanceID,Es.nextInstanceID+=1,this.instanceID>0&&jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ow),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new tw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Xf(s.fetch),this.lock=s.lock||zc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:jt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=iw:this.lock=zc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ns()?this.storage=rw:(this.memoryStorage={},this.storage=Mc(this.memoryStorage)):(this.memoryStorage={},this.storage=Mc(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=T0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),jt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),W0(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?{error:r}:{error:new ep("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Vr(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:qt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qt})}else throw new ni("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dc})}else throw new ni("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Go}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:qt});if(await ri(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Go}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qt}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Go}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Vr(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ni("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Vr(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Q0})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Gt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await H(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await H(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ni("You must provide either an email or phone number and a type")}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:er}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:er})})}catch(r){if(F(r))return V0(r)&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Gt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await Vr(this.storage,this.storageKey));const{data:c,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:er});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Ic(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=Ic(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(F(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Gt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!jt())throw new si("No browser detected.");if(t.error||t.error_description||t.error_code)throw new si(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new si("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!i||!a||!o||!c)throw new si("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;u&&(f=parseInt(u));const v=f-d;v*1e3<=zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(F(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(H0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=P0(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Vr(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return jt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(F(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await I0(async s=>(s>0&&await A0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&qo(i)&&Date.now()+o-n<zn})}catch(n){if(this._debug(r,"error",n),F(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),jt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ti(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Ac;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ac}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),qo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new go;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),F(i)){const o={session:null,error:i};return qo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ri(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zn}ms, refresh threshold is ${Fc} ticks`),s<=Fc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}}Es.nextInstanceID=0;const aw=Es;class lw extends aw{constructor(t){super(t)}}var uw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class cw{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=S0(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:m0,realtime:v0,auth:Object.assign(Object.assign({},g0),{storageKey:u}),global:p0},d=j0(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=_0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new $y(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new hy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new d0(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return uw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:u},c,d){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lw({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new Yy(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dw=(e,t,r)=>new cw(e,t,r),hw="https://hcgjymlpjedrhrokvfdg.supabase.co",fw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjZ2p5bWxwamVkcmhyb2t2ZmRnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYyNTY2MDAsImV4cCI6MjA1MTgzMjYwMH0.jJ88iDiRgFPM5T4NXdVrFKGJm1V-T6hH4T1ouOonWmM",$=dw(hw,fw);function pw(){var f,v;const e=Bt(),t=Mr(),[r,n]=on.useState(null),[s,i]=on.useState(null),[o,a]=x.useState(!1),[u,c]=x.useState(!1);on.useEffect(()=>{$.auth.getUser().then(({data:{user:y}})=>{var w;n(y),i(((w=y==null?void 0:y.user_metadata)==null?void 0:w.role)||null)}),$.auth.onAuthStateChange((y,w)=>{var k,m;n((w==null?void 0:w.user)??null),i(((m=(k=w==null?void 0:w.user)==null?void 0:k.user_metadata)==null?void 0:m.role)||null)})},[]);const d=async()=>{await $.auth.signOut(),a(!1),c(!1),e("/")},h=y=>t.pathname===y;return l.jsxs("nav",{className:"bg-white border-b border-gray-100",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs(ce,{to:"/",className:"flex items-center space-x-2",children:[l.jsx(Se,{className:"h-8 w-8 text-primary"}),l.jsx("span",{className:"font-bold text-xl text-gray-900",children:"RacePhotoHub"})]})}),l.jsx("div",{className:"hidden md:flex items-center space-x-8",children:r?l.jsxs(l.Fragment,{children:[s==="photographer"?l.jsxs(l.Fragment,{children:[l.jsx(ce,{to:"/gallery",className:`text-sm font-medium ${h("/gallery")?"text-primary":"text-gray-600 hover:text-gray-900"}`,children:"Albums"}),l.jsx(ce,{to:"/upload",className:`text-sm font-medium ${h("/upload")?"text-primary":"text-gray-600 hover:text-gray-900"}`,children:"Upload"})]}):l.jsx(ce,{to:"/gallery",className:`text-sm font-medium ${h("/gallery")?"text-primary":"text-gray-600 hover:text-gray-900"}`,children:"Find Photos"}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>c(!u),className:"flex items-center space-x-2 text-sm font-medium text-gray-600 hover:text-gray-900",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-light text-white flex items-center justify-center",children:(f=r.email)==null?void 0:f[0].toUpperCase()}),l.jsx(Ql,{className:"h-4 w-4"})]}),u&&l.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50",children:[l.jsxs(ce,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>c(!1),children:[l.jsx(Rf,{className:"h-4 w-4 mr-2"}),"Profile"]}),l.jsxs("button",{onClick:d,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[l.jsx(Qv,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]}):l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ce,{to:"/auth?mode=login",className:"text-sm font-medium text-gray-600 hover:text-gray-900",children:"Log In"}),l.jsx(ce,{to:"/auth?mode=signup",className:"text-sm font-medium text-white bg-primary hover:bg-primary-light px-4 py-2 rounded-lg transition-colors",children:"Sign Up"})]})}),l.jsx("div",{className:"flex items-center md:hidden",children:l.jsx("button",{onClick:()=>a(!o),className:"p-2 rounded-md text-gray-600 hover:text-gray-900",children:o?l.jsx(pn,{className:"h-6 w-6"}):l.jsx(Yv,{className:"h-6 w-6"})})})]})}),o&&l.jsx("div",{className:"md:hidden border-t border-gray-100",children:l.jsx("div",{className:"px-4 py-3 space-y-3",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-light text-white flex items-center justify-center",children:(v=r.email)==null?void 0:v[0].toUpperCase()}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.email}),l.jsx("div",{className:"text-xs text-gray-500",children:s})]})]}),s==="photographer"?l.jsxs(l.Fragment,{children:[l.jsx(ce,{to:"/gallery",className:"block px-4 py-2 text-sm text-gray-600 hover:text-gray-900",onClick:()=>a(!1),children:"Albums"}),l.jsx(ce,{to:"/upload",className:"block px-4 py-2 text-sm text-gray-600 hover:text-gray-900",onClick:()=>a(!1),children:"Upload"})]}):l.jsx(ce,{to:"/gallery",className:"block px-4 py-2 text-sm text-gray-600 hover:text-gray-900",onClick:()=>a(!1),children:"Find Photos"}),l.jsx(ce,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-600 hover:text-gray-900",onClick:()=>a(!1),children:"Profile"}),l.jsx("button",{onClick:d,className:"block w-full text-left px-4 py-2 text-sm text-gray-600 hover:text-gray-900",children:"Sign Out"})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{to:"/auth?mode=login",className:"block w-full text-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 border border-gray-200 rounded-lg",onClick:()=>a(!1),children:"Log In"}),l.jsx(ce,{to:"/auth?mode=signup",className:"block w-full text-center px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-primary-light rounded-lg",onClick:()=>a(!1),children:"Sign Up"})]})})})]})}function mw(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,a]=x.useState(6),[u,c]=x.useState(!1);x.useEffect(()=>{d()},[]);async function d(){try{n(!0),i(null);const{error:v}=await $.from("photos").select("count").limit(1);if(v)throw new Error("Database connection failed. Please try again later.");const{data:y,error:w}=await $.from("photos").select(`
          event_name,
          photographer:profiles(username),
          url,
          preview_image
        `).not("url","eq","").order("created_at",{ascending:!1});if(w)throw w;const k=y.reduce((p,g)=>(p[g.event_name]?(p[g.event_name].photo_count++,!p[g.event_name].preview_url&&g.preview_image&&(p[g.event_name].preview_url=g.preview_image)):p[g.event_name]={event_name:g.event_name,photo_count:1,photographer:g.photographer,preview_url:g.preview_image||g.url},p),{}),m=Object.values(k);t(m),c(m.length>o)}catch(v){console.error("Error loading albums:",v),i(v instanceof Error?v.message:"Failed to load albums")}finally{n(!1)}}const h=()=>{a(v=>{const y=v+6;return c(e.length>y),y})},f=v=>{if(!v.preview_url)return"https://images.unsplash.com/photo-1476480862126-209bfaa8edc8?auto=format&fit=crop&q=80";const{data:y}=$.storage.from("race-photos").getPublicUrl(v.preview_url);return y.publicUrl};return l.jsxs("div",{className:"min-h-[calc(100vh-64px)] bg-white",children:[l.jsx("div",{className:"relative overflow-hidden",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center py-20",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-900",children:["Welcome to ",l.jsx("span",{className:"text-primary",children:"RacePhotoHub"})]}),l.jsx("p",{className:"text-xl text-gray-600",children:"Find and purchase your professional race photos from major marathons and running events."}),l.jsx("div",{className:"pt-4",children:l.jsx(ce,{to:"/gallery",className:"inline-block px-8 py-4 text-lg font-semibold text-white bg-primary hover:bg-primary-light rounded-lg transition-colors",children:"FIND MY PHOTOS"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1452626038306-9aae5e071dd3?auto=format&fit=crop&q=80",alt:"Runner in action",className:"w-full h-[600px] object-cover rounded-2xl shadow-2xl"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent rounded-2xl"})]})]})})}),l.jsx("div",{className:"bg-gray-50 py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Featured Events"}),l.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Browse photos from recent running events"})]}),s&&l.jsxs("div",{className:"mb-8 p-4 bg-red-50 rounded-lg border border-red-200",children:[l.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[l.jsx(js,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("p",{children:s})]}),l.jsx("button",{onClick:d,className:"mt-2 text-sm text-red-700 hover:text-red-800 font-medium",children:"Try Again"})]}),r?l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.slice(0,o).map(v=>{var y;return l.jsxs(ce,{to:`/gallery?event=${encodeURIComponent(v.event_name)}`,className:"group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow",children:[l.jsxs("div",{className:"relative h-48",children:[l.jsx("img",{src:f(v),alt:v.event_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors"})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:v.event_name}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-gray-600",children:[l.jsx(Se,{className:"h-5 w-5 mr-2"}),l.jsxs("span",{children:[v.photo_count," photos"]})]}),l.jsxs("div",{className:"flex items-center text-gray-600",children:[l.jsx(ny,{className:"h-5 w-5 mr-2"}),l.jsxs("span",{children:["By ",((y=v.photographer)==null?void 0:y.username)||"Unknown"]})]})]})]})]},v.event_name)})}),u&&l.jsx("div",{className:"mt-12 text-center",children:l.jsxs("button",{onClick:h,className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-primary border-2 border-primary rounded-lg hover:bg-primary hover:text-white transition-colors",children:["Load More",l.jsx(Ql,{className:"w-4 h-4"})]})}),e.length===0&&!s&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Se,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("p",{className:"mt-4 text-gray-500",children:"No events available yet"})]})]})]})})]})}function gw(){const[e,t]=Pf(),r=Bt(),[n,s]=x.useState(null),[i,o]=x.useState(null),[a,u]=x.useState([]),[c,d]=x.useState([]),[h,f]=x.useState([]),[v,y]=x.useState([]),[w,k]=x.useState(e.get("event")||""),[m,p]=x.useState(""),[g,_]=x.useState(!0),[S,T]=x.useState(e.get("event")),[C,O]=x.useState([]),[G,U]=x.useState(!1),[ge,Pe]=x.useState(!1),[rt,ht]=x.useState(!1),[nt,kt]=x.useState({email:"",password:""}),[De,P]=x.useState(null);x.useEffect(()=>{L(),S?q():D()},[S]),x.useEffect(()=>{ne()},[w,a]),x.useEffect(()=>{qe()},[m,h]);const L=async()=>{var j;try{const{data:{user:I}}=await $.auth.getUser();s(I),o(((j=I==null?void 0:I.user_metadata)==null?void 0:j.role)||null)}catch(I){console.error("Error checking user:",I)}},D=async()=>{try{_(!0);const{data:j,error:I}=await $.from("photos").select(`
          event_name,
          photographer:profiles(id, username),
          url,
          preview_image
        `).not("url","is",null).order("created_at",{ascending:!1});if(I)throw I;const W=j.reduce((he,Y)=>(he[Y.event_name]?(he[Y.event_name].photo_count++,!he[Y.event_name].preview_url&&Y.preview_image&&(he[Y.event_name].preview_url=Y.preview_image)):he[Y.event_name]={event_name:Y.event_name,photo_count:1,photographer:Y.photographer,preview_url:Y.preview_image||Y.url},he),{}),ye=Object.values(W);u(ye),d(ye)}catch(j){console.error("Error loading albums:",j)}finally{_(!1)}},q=async()=>{if(S)try{_(!0);const{data:j,error:I}=await $.from("photos").select(`
          id,
          url,
          watermark_url,
          title,
          price,
          bib_numbers,
          photographer:profiles(id, username)
        `).eq("event_name",S).order("created_at",{ascending:!1});if(I)throw I;f(j||[]),y(j||[])}catch(j){console.error("Error loading photos:",j)}finally{_(!1)}},ne=()=>{if(!w.trim()){d(a);return}const j=a.filter(I=>I.event_name.toLowerCase().includes(w.toLowerCase()));d(j)},qe=()=>{if(!m.trim()){y(h);return}const j=h.filter(I=>{var W;return(W=I.bib_numbers)==null?void 0:W.some(ye=>ye.toLowerCase().includes(m.toLowerCase()))});y(j)},Ke=j=>{T(j),t({event:j}),p("")},st=()=>{T(null),t({}),f([]),y([]),p("")},b=j=>{O(I=>[...I,{photoId:j.id,price:j.price}])},A=j=>{O(I=>I.filter(W=>W.photoId!==j))},M=j=>C.some(I=>I.photoId===j),X=()=>C.reduce((j,I)=>j+I.price,0),K=async j=>{j.preventDefault(),P(null),Pe(!0);try{const{data:I,error:W}=await $.auth.signUp({email:nt.email,password:nt.password,options:{data:{role:"racer"}}});if(W)throw W;if(I.user){const{error:ye}=await $.from("profiles").insert({id:I.user.id,username:nt.email.split("@")[0],full_name:"",avatar_url:""});if(ye)throw ye;const he=C.map(N=>({photo_id:N.photoId,buyer_id:I.user.id,amount:N.price})),{error:Y}=await $.from("purchases").insert(he);if(Y)throw Y;O([]),U(!1),ht(!1),alert("Account created and purchase successful! You can view your photos in your profile."),r("/profile")}}catch(I){console.error("Error during checkout:",I),P(I.message||"Failed to process checkout")}finally{Pe(!1)}},xr=async()=>{if(!n){ht(!0);return}Pe(!0);try{const j=C.map(W=>({photo_id:W.photoId,buyer_id:n.id,amount:W.price})),{error:I}=await $.from("purchases").insert(j);if(I)throw I;O([]),U(!1),alert("Purchase successful! You can view your photos in your profile.")}catch(j){console.error("Error processing purchase:",j),alert("Failed to process purchase. Please try again.")}finally{Pe(!1)}},$s=j=>{try{const I=j.url,{data:W}=$.storage.from("race-photos").getPublicUrl(I);return W.publicUrl}catch(I){return console.error("Error getting photo URL:",I),"https://images.unsplash.com/photo-1476480862126-209bfaa8edc8?auto=format&fit=crop&q=80"}},Ht=j=>{if(!j.preview_url)return"https://images.unsplash.com/photo-1476480862126-209bfaa8edc8?auto=format&fit=crop&q=80";const{data:I}=$.storage.from("race-photos").getPublicUrl(j.preview_url);return I.publicUrl};return l.jsx("div",{className:"min-h-screen bg-background-light",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"fixed bottom-8 right-8 z-50",children:l.jsxs("button",{onClick:()=>U(!0),className:"bg-primary text-white p-4 rounded-full shadow-lg hover:bg-primary-light transition-colors relative",children:[l.jsx(ty,{className:"w-6 h-6"}),C.length>0&&l.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm",children:C.length})]})}),G&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Shopping Cart"}),l.jsx("button",{onClick:()=>U(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx(pn,{className:"w-5 h-5"})})]}),C.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"Your cart is empty"}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-4 mb-4",children:C.map(j=>{const I=h.find(W=>W.id===j.photoId);return l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:(I==null?void 0:I.title)||"Photo"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["$",j.price]})]}),l.jsx("button",{onClick:()=>A(j.photoId),className:"text-red-500 hover:text-red-700",children:l.jsx(pn,{className:"w-4 h-4"})})]},j.photoId)})}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"font-semibold",children:"Total:"}),l.jsxs("span",{className:"font-semibold",children:["$",X().toFixed(2)]})]}),l.jsx("button",{onClick:xr,disabled:ge,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:ge?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsx(qv,{className:"w-5 h-5 mr-2"}),"Checkout"]})})]})]})]})}),rt&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Account to Continue"}),l.jsx("button",{onClick:()=>ht(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx(pn,{className:"w-5 h-5"})})]}),De&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center text-red-700",children:[l.jsx(js,{className:"w-5 h-5 mr-2"}),l.jsx("p",{className:"text-sm",children:De})]})}),l.jsxs("form",{onSubmit:K,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Of,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",type:"email",required:!0,value:nt.email,onChange:j=>kt(I=>({...I,email:j.target.value})),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary",placeholder:"Enter your email"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Tf,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",type:"password",required:!0,value:nt.password,onChange:j=>kt(I=>({...I,password:j.target.value})),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary",placeholder:"Create a password"})]})]}),l.jsx("button",{type:"submit",disabled:ge,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:ge?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account & Complete Purchase"}),l.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Already have an account?"," ",l.jsx(ce,{to:"/auth",className:"text-primary hover:text-primary-light",children:"Sign in here"})]})]})]})}),S?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsxs("button",{onClick:st,className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[l.jsx(Hv,{className:"w-5 h-5 mr-2"}),"Back to Albums"]}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:S}),l.jsxs("p",{className:"mt-1 text-gray-500",children:[h.length," photos available"]})]}),l.jsx("div",{className:"w-full sm:w-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ec,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",value:m,onChange:j=>p(j.target.value),placeholder:"Search by bib number...",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]})})]}),g?l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(j=>{var ye,he;const I=$s(j),W=M(j.id);return l.jsxs("div",{className:"group relative",children:[l.jsxs("div",{className:"aspect-w-4 aspect-h-3 rounded-lg overflow-hidden bg-gray-100",children:[l.jsx("img",{src:I,alt:j.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:Y=>{Y.currentTarget.src="https://images.unsplash.com/photo-1476480862126-209bfaa8edc8?auto=format&fit=crop&q=80"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:l.jsx("button",{onClick:()=>W?A(j.id):b(j),className:`w-full font-medium px-4 py-2 rounded-lg transition-colors ${W?"bg-red-500 text-white hover:bg-red-600":"bg-white text-primary hover:bg-gray-50"}`,children:W?"Remove from Cart":`Add to Cart - $${j.price}`})})})]}),l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",j.price]}),l.jsxs(ce,{to:`/photographer/${(ye=j.photographer)==null?void 0:ye.id}`,className:"text-sm text-gray-500 hover:text-primary",children:["By ",(he=j.photographer)==null?void 0:he.username]})]}),j.bib_numbers&&j.bib_numbers.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:j.bib_numbers.map((Y,N)=>l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-primary/10 text-primary",children:[l.jsx(Ec,{className:"w-3 h-3 mr-1"}),Y]},N))})]})]},j.id)})}),!g&&v.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Se,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No photos found"}),l.jsx("p",{className:"mt-2 text-gray-500",children:m?`No photos found with bib number "${m}"`:"This event doesn't have any photos yet"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Photo Albums"}),l.jsx("p",{className:"mt-1 text-gray-500",children:"Browse and discover race photos from various events"})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:l.jsx("div",{className:"max-w-3xl mx-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ey,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",value:w,onChange:j=>k(j.target.value),placeholder:"Search events by name...",className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]})})}),g?l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(j=>{var I,W;return l.jsxs("div",{className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-shadow border border-gray-100",children:[l.jsxs("div",{className:"relative h-48",children:[l.jsx("img",{src:Ht(j),alt:j.event_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:ye=>{ye.currentTarget.src="https://images.unsplash.com/photo-1476480862126-209bfaa8edc8?auto=format&fit=crop&q=80"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:l.jsx("h3",{className:"text-lg font-semibold text-white",children:j.event_name})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Se,{className:"h-4 w-4 mr-1"}),l.jsxs("span",{children:[j.photo_count," photos"]})]}),l.jsxs(ce,{to:`/photographer/${(I=j.photographer)==null?void 0:I.id}`,className:"flex items-center hover:text-primary",children:[l.jsx(Rf,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:((W=j.photographer)==null?void 0:W.username)||"Unknown"})]})]}),l.jsx("button",{onClick:()=>Ke(j.event_name),className:"w-full mt-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-light transition-colors",children:"View Photos"})]})]},j.event_name)})}),!g&&c.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Se,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No albums found"}),l.jsx("p",{className:"mt-2 text-gray-500",children:w?`No albums match "${w}"`:"No albums have been created yet"})]})]})]})})}async function vw(e){try{const t=Date.now(),r=Math.random().toString(36).substring(2,15),n=e.name.split(".").pop(),s=`${t}-${r}.${n}`,{data:i,error:o}=await $.storage.from("race-photos").upload(`originals/${s}`,e,{cacheControl:"3600",upsert:!1,contentType:e.type});if(o)throw o;const{data:a,error:u}=await $.storage.from("race-photos").copy(`originals/${s}`,`watermarked/${s}`);if(u)throw u;return{originalUrl:`originals/${s}`,watermarkUrl:`watermarked/${s}`}}catch(t){throw console.error("Error processing image:",t),t}}var Bc;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Bc||(Bc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hc;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Hc||(Hc={}));var Vc;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Vc||(Vc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=["user","model","function","system"];var Gc;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Gc||(Gc={}));var qc;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(qc||(qc={}));var Kc;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Kc||(Kc={}));var Jc;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Jc||(Jc={}));var ss;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(ss||(ss={}));var Qc;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Qc||(Qc={}));var Yc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Yc||(Yc={}));var Xc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Xc||(Xc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Gr extends Be{constructor(t,r){super(t),this.response=r}}class rp extends Be{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class fr extends Be{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="https://generativelanguage.googleapis.com",ww="v1beta",xw="0.21.0",_w="genai-js";var $r;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})($r||($r={}));class kw{constructor(t,r,n,s,i){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=i}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||ww;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||yw}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Sw(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${_w}/${xw}`),t.join(" ")}async function jw(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",Sw(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new fr(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,i]of n.entries()){if(s==="x-goog-api-key")throw new fr(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new fr(`Header name ${s} can only be set using the apiClient field`);r.append(s,i)}}return r}async function Ew(e,t,r,n,s,i){const o=new kw(e,t,r,n,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Pw(i)),{method:"POST",headers:await jw(o),body:s})}}async function Ls(e,t,r,n,s,i={},o=fetch){const{url:a,fetchOptions:u}=await Ew(e,t,r,n,s,i);return bw(a,u,o)}async function bw(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){Nw(s,e)}return n.ok||await Cw(n,e),n}function Nw(e,t){let r=e;throw e instanceof rp||e instanceof fr||(r=new Be(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function Cw(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new rp(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function Pw(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),yi(e.candidates[0]))throw new Gr(`${Yt(e)}`,e);return Tw(e)}else if(e.promptFeedback)throw new Gr(`Text not available. ${Yt(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),yi(e.candidates[0]))throw new Gr(`${Yt(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Zc(e)[0]}else if(e.promptFeedback)throw new Gr(`Function call not available. ${Yt(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),yi(e.candidates[0]))throw new Gr(`${Yt(e)}`,e);return Zc(e)}else if(e.promptFeedback)throw new Gr(`Function call not available. ${Yt(e)}`,e)},e}function Tw(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const o of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Zc(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const o of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const Ow=[ss.RECITATION,ss.SAFETY,ss.LANGUAGE];function yi(e){return!!e.finishReason&&Ow.includes(e.finishReason)}function Yt(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];yi(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function bs(e){return this instanceof bs?(this.v=e,this):new bs(e)}function Rw(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(v){return new Promise(function(y,w){i.push([f,v,y,w])>1||a(f,v)})})}function a(f,v){try{u(n[f](v))}catch(y){h(i[0][3],y)}}function u(f){f.value instanceof bs?Promise.resolve(f.value.v).then(c,d):h(i[0][2],f)}function c(f){a("next",f)}function d(f){a("throw",f)}function h(f,v){f(v),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Aw(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=$w(t),[n,s]=r.tee();return{stream:Lw(n),response:Iw(s)}}async function Iw(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return nu(Uw(t));t.push(s)}}function Lw(e){return Rw(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield bs(r.read());if(s)break;yield yield bs(nu(n))}})}function $w(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){n.error(new Be("Failed to parse stream"));return}n.close();return}s+=o;let u=s.match(ed),c;for(;u;){try{c=JSON.parse(u[1])}catch{n.error(new Be(`Error parsing JSON response: "${u[1]}"`));return}n.enqueue(c),s=s.substring(u[0].length),u=s.match(ed)}return i()})}}})}function Uw(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates)for(const s of n.candidates){const i=s.index;if(r.candidates||(r.candidates=[]),r.candidates[i]||(r.candidates[i]={index:s.index}),r.candidates[i].citationMetadata=s.citationMetadata,r.candidates[i].groundingMetadata=s.groundingMetadata,r.candidates[i].finishReason=s.finishReason,r.candidates[i].finishMessage=s.finishMessage,r.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){r.candidates[i].content||(r.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),r.candidates[i].content.parts.push(o)}}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(e,t,r,n){const s=await Ls(t,$r.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return Aw(s)}async function sp(e,t,r,n){const i=await(await Ls(t,$r.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:nu(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Ns(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return Dw(t)}function Dw(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const i of e)"functionResponse"in i?(r.parts.push(i),s=!0):(t.parts.push(i),n=!0);if(n&&s)throw new Be("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new Be("No content is provided for sending chat message.");return n?t:r}function Mw(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new fr("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=Ns(e);n.contents=[i]}return{generateContentRequest:n}}function td(e){let t;return e.contents?t=e:t={contents:[Ns(e)]},e.systemInstruction&&(t.systemInstruction=ip(e.systemInstruction)),t}function Fw(e){return typeof e=="string"||Array.isArray(e)?{content:Ns(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],zw={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Bw(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new Be(`First content should be with role 'user', got ${n}`);if(!Wc.includes(n))throw new Be(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(Wc)}`);if(!Array.isArray(s))throw new Be("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Be("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const u of rd)u in a&&(i[u]+=1);const o=zw[n];for(const a of rd)if(!o.includes(a)&&i[a]>0)throw new Be(`Content with role '${n}' can't contain '${a}' part`);t=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="SILENT_ERROR";class Hw{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(Bw(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,i,o,a,u;await this._sendPromise;const c=Ns(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),r);let f;return this._sendPromise=this._sendPromise.then(()=>sp(this._apiKey,this.model,d,h)).then(v=>{var y;if(v.response.candidates&&v.response.candidates.length>0){this._history.push(c);const w=Object.assign({parts:[],role:"model"},(y=v.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(w)}else{const w=Yt(v.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}f=v}),await this._sendPromise,f}async sendMessageStream(t,r={}){var n,s,i,o,a,u;await this._sendPromise;const c=Ns(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),r),f=np(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(v=>{throw new Error(nd)}).then(v=>v.response).then(v=>{if(v.candidates&&v.candidates.length>0){this._history.push(c);const y=Object.assign({},v.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=Yt(v);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(v=>{v.message!==nd&&console.error(v)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(e,t,r,n){return(await Ls(t,$r.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(e,t,r,n){return(await Ls(t,$r.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function Gw(e,t,r,n){const s=r.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await Ls(t,$r.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=ip(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=td(t),i=Object.assign(Object.assign({},this._requestOptions),r);return sp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}async generateContentStream(t,r={}){var n;const s=td(t),i=Object.assign(Object.assign({},this._requestOptions),r);return np(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}startChat(t){var r;return new Hw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=Mw(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return Vw(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=Fw(t),s=Object.assign(Object.assign({},this._requestOptions),r);return Ww(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return Gw(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new Be("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new sd(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new fr("Cached content must contain a `name` field.");if(!t.model)throw new fr("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(r!=null&&r[o]&&t[o]&&(r==null?void 0:r[o])!==t[o]){if(o==="model"){const a=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,u=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===u)continue}throw new fr(`Different value for "${o}" specified in modelParams (${r[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new sd(this.apiKey,i,n)}}const op=new qw("AIzaSyDSG683M91oNu_SVxIWCr4x9eDga3BcOtI"),Kw=e=>new Promise(t=>setTimeout(t,e));async function id(e){try{await Kw(1e3);const t=await Jw(e),o=(await(await op.getGenerativeModel({model:"gemini-1.5-flash"}).generateContent(["Analyze this race photo and extract any visible race bib numbers. Return only the numbers, separated by commas. If no bib numbers are visible, return 'none'.",{inlineData:{mimeType:"image/jpeg",data:t}}])).response).text();return o.toLowerCase()==="none"?[]:o.split(",").map(u=>u.trim()).filter(u=>u.length>0)}catch(t){if(console.error("Error detecting bib numbers with Gemini:",t),t instanceof Error){if(t.message.includes("rate limit"))throw new Error("Rate limit exceeded. Please try again in a moment.");if(t.message.includes("unauthorized"))throw new Error("Invalid API key. Please check your configuration.");console.error("Specific error:",t.message)}throw new Error("Failed to detect bib numbers. Please try again.")}}function Jw(e){return new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{if(typeof n.result=="string"){const s=n.result.split(",")[1];t(s)}else r(new Error("Failed to convert file to base64"))},n.onerror=s=>r(s)})}async function Qw(){try{const r=await(await op.getGenerativeModel({model:"gemini-1.5-flash"}).generateContent("Test connection")).response;return console.log("API Connection successful:",r.text()),!0}catch(e){return console.error("API Connection failed:",e),!1}}function Yw(){const[e]=Pf(),t=Bt(),[r,n]=x.useState(null),[s,i]=x.useState([]),[o,a]=x.useState(!1),[u,c]=x.useState(0),[d,h]=x.useState(null),[f,v]=x.useState(e.get("event")||""),[y,w]=x.useState([]),[k,m]=x.useState(""),[p,g]=x.useState(!1),[_,S]=x.useState(null),[T,C]=x.useState(""),[O,G]=x.useState([{quantity:1,price:9.99}]);x.useEffect(()=>{U(),ge(),Qw().then(b=>{b||h("Unable to connect to Gemini API. Please check your API key configuration.")})},[]);async function U(){var b;try{const{data:{user:A}}=await $.auth.getUser();if(!A){t("/auth");return}if(((b=A.user_metadata)==null?void 0:b.role)!=="photographer"){t("/");return}n(A)}catch(A){console.error("Error checking user:",A),t("/auth")}}async function ge(){try{const{data:b,error:A}=await $.from("photos").select("event_name").not("event_name","eq","").order("event_name");if(A)throw A;const M=[...new Set(b.map(X=>X.event_name))];w(M)}catch(b){console.error("Error loading events:",b)}}const Pe=x.useCallback(b=>{var X;if(!((X=b.target.files)!=null&&X.length))return;const M=Array.from(b.target.files).map(K=>({file:K,preview:URL.createObjectURL(K),progress:0,bibNumbers:[],bibStatus:"none",editingBibs:!1,manualBibNumbers:""}));i(K=>[...K,...M])},[]),rt=b=>{var M;const A=(M=b.target.files)==null?void 0:M[0];A&&(S(A),C(URL.createObjectURL(A)))},ht=x.useCallback(b=>{i(A=>{const M=[...A];return URL.revokeObjectURL(M[b].preview),M.splice(b,1),M})},[]),nt=()=>{G(b=>[...b,{quantity:b.length+1,price:9.99}])},kt=b=>{G(A=>A.filter((M,X)=>X!==b))},De=(b,A,M)=>{G(X=>{const K=[...X];return K[b]={...K[b],[A]:M},K})},P=async(b,A)=>{try{i(X=>{const K=[...X];return K[A]={...K[A],bibStatus:"detecting"},K});const M=await id(b.file);i(X=>{const K=[...X];return K[A]={...K[A],bibNumbers:M,bibStatus:M.length===0?"none":M.length>1?"multiple":"success",manualBibNumbers:M.join(", ")},K})}catch(M){console.error("Error detecting bib numbers:",M),i(X=>{const K=[...X];return K[A]={...K[A],bibStatus:"error"},K})}},L=async()=>{g(!0);try{for(let b=0;b<s.length;b++)s[b].bibStatus==="none"&&await P(s[b],b)}finally{g(!1)}},D=(b,A)=>{i(M=>{const X=[...M];return X[b]={...X[b],manualBibNumbers:A,bibNumbers:A.split(",").map(K=>K.trim()).filter(Boolean)},X})},q=b=>{i(A=>{const M=[...A];return M[b]={...M[b],editingBibs:!M[b].editingBibs},M})},ne=async b=>{if(b.preventDefault(),!f){h("Please select or enter an event name");return}if(!_){h("Please select a preview image for the album");return}a(!0),h(null);let A=0;try{const M=Date.now(),X=_.name.split(".").pop(),K=`public/previews/${M}-${Math.random().toString(36).substring(7)}.${X}`;console.log("Uploading preview image...");const{error:xr,data:$s}=await $.storage.from("race-photos").upload(K,_);if(xr)throw console.error("Preview image upload error:",xr),xr;console.log("Preview image uploaded successfully"),console.log("Saving price tiers...");const{error:Ht}=await $.from("price_tiers").insert(O.map(j=>({photographer_id:r.id,event_name:f,quantity:j.quantity,price:j.price})));if(Ht)throw console.error("Price tiers error:",Ht),Ht;for(let j=0;j<s.length;j++){const I=s[j];try{console.log(`Processing photo ${j+1}/${s.length}`),i(Y=>{const N=[...Y];return N[j]={...N[j],progress:10},N});const W=await vw(I.file),ye=I.bibNumbers.length>0?I.bibNumbers:await id(I.file).catch(Y=>(console.error("Bib detection error:",Y),[]));i(Y=>{const N=[...Y];return N[j]={...N[j],progress:50},N});const{error:he}=await $.from("photos").insert({photographer_id:r.id,event_name:f,title:I.file.name,url:W.originalUrl,watermark_url:W.watermarkUrl,preview_image:j===0?K:null,price:O[0].price,bib_numbers:ye});if(he)throw console.error("Database insert error:",he),he;A++,i(Y=>{const N=[...Y];return N[j]={...N[j],progress:100,bibNumbers:ye},N})}catch(W){console.error(`Error uploading photo ${j+1}:`,W),i(ye=>{const he=[...ye];return he[j]={...he[j],error:W instanceof Error?W.message:"Upload failed",progress:0},he})}c((j+1)/s.length*100)}A===s.length?(await new Promise(j=>setTimeout(j,2e3)),await $.from("photos").select().eq("event_name",f),t(`/gallery?event=${encodeURIComponent(f)}`)):A>0?h(`${A} of ${s.length} photos uploaded successfully`):h("All uploads failed. Please try again.")}catch(M){console.error("Error during upload process:",M),h(M instanceof Error?M.message:"Upload failed. Please try again.")}finally{a(!1)}},qe=b=>{switch(b){case"success":return"text-green-500";case"error":return"text-red-500";case"multiple":return"text-yellow-500";case"detecting":return"text-blue-500";default:return"text-gray-400"}},Ke=b=>{switch(b){case"success":return l.jsx(jc,{className:"w-5 h-5"});case"error":return l.jsx(sy,{className:"w-5 h-5"});case"multiple":return l.jsx(Bv,{className:"w-5 h-5"});case"detecting":return l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-current border-t-transparent"});default:return l.jsx(bc,{className:"w-5 h-5"})}},st=s.filter(b=>!k||b.bibNumbers.some(A=>A.toLowerCase().includes(k.toLowerCase())));return l.jsx("div",{className:"min-h-screen bg-background-light",children:l.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload Photos"}),l.jsx("p",{className:"mt-1 text-gray-500",children:"Add photos to your event collection"})]})}),l.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"event",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Name"}),l.jsx("input",{type:"text",id:"event",list:"events",value:f,onChange:b=>v(b.target.value),className:"block w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter or select event name",required:!0}),l.jsx("datalist",{id:"events",children:y.map(b=>l.jsx("option",{value:b},b))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Album Preview Image"}),l.jsx("div",{className:"mt-1 flex items-center",children:T?l.jsxs("div",{className:"relative w-32 h-32",children:[l.jsx("img",{src:T,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>{S(null),C("")},className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow-sm hover:bg-gray-100",children:l.jsx(pn,{className:"w-4 h-4 text-gray-500"})})]}):l.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l.jsx(fn,{className:"w-8 h-8 text-gray-400 mb-2"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Upload preview"})]}),l.jsx("input",{type:"file",className:"hidden",onChange:rt,accept:"image/*"})]})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Price Tiers"}),l.jsxs("button",{type:"button",onClick:nt,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary hover:text-primary-light",children:[l.jsx(Zv,{className:"w-4 h-4"}),"Add Tier"]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:O.map((b,A)=>l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),l.jsx("input",{type:"number",value:b.quantity,onChange:M=>De(A,"quantity",parseInt(M.target.value)),min:"1",className:"block w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Kv,{className:"w-4 h-4 text-gray-400"})}),l.jsx("input",{type:"number",value:b.price,onChange:M=>De(A,"price",parseFloat(M.target.value)),min:"0.01",step:"0.01",className:"block w-full pl-8 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]})]}),A>0&&l.jsx("button",{type:"button",onClick:()=>kt(A),className:"p-2 text-gray-400 hover:text-red-500",children:l.jsx(ry,{className:"w-5 h-5"})})]},A))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-center w-full",children:l.jsxs("label",{htmlFor:"photos",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l.jsx(fn,{className:"w-12 h-12 text-gray-400 mb-4"}),l.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[l.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),l.jsx("input",{id:"photos",type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:Pe,disabled:o})]})}),s.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{type:"button",onClick:L,disabled:p||o,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-light disabled:bg-gray-300",children:[l.jsx(bc,{className:"w-4 h-4"}),"Detect All Race Bibs"]}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"text",placeholder:"Search by bib number...",value:k,onChange:b=>m(b.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})})]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[s.length," photo",s.length!==1?"s":""," selected"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:st.map((b,A)=>l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"aspect-w-4 aspect-h-3 rounded-lg overflow-hidden bg-gray-100",children:[l.jsx("img",{src:b.preview,alt:`Preview ${A+1}`,className:"w-full h-full object-cover"}),l.jsx("button",{type:"button",onClick:()=>ht(A),className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-sm hover:bg-gray-100",children:l.jsx(pn,{className:"w-4 h-4 text-gray-500"})}),b.progress>0&&b.progress<100&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:l.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-white border-t-transparent animate-spin"})}),b.error&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-red-50",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[l.jsx(js,{className:"h-4 w-4"}),l.jsx("p",{children:"Upload failed. Click remove and try again."})]})})]}),l.jsxs("div",{className:"mt-2 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`${qe(b.bibStatus)}`,children:Ke(b.bibStatus)}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:b.bibStatus==="none"?"No bib detected":b.bibStatus==="detecting"?"Detecting bib...":b.bibStatus==="multiple"?"Multiple bibs found":b.bibStatus==="error"?"Detection failed":"Bib detected"})]}),b.bibStatus!=="detecting"&&l.jsx("button",{type:"button",onClick:()=>b.editingBibs?q(A):P(b,A),className:"p-1 text-gray-500 hover:text-primary",children:b.editingBibs?l.jsx(jc,{className:"w-4 h-4"}):l.jsx(Xv,{className:"w-4 h-4"})})]}),b.editingBibs?l.jsx("input",{type:"text",value:b.manualBibNumbers,onChange:M=>D(A,M.target.value),className:"w-full px-2 py-1 text-sm border border-gray-200 rounded focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter bib numbers, comma separated"}):b.bibNumbers.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:b.bibNumbers.map((M,X)=>l.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 rounded",children:["#",M]},X))})]})]},A))})]})]}),d&&l.jsx("div",{className:"rounded-lg bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(js,{className:"h-5 w-5 text-red-400"}),l.jsx("p",{className:"text-sm text-red-700",children:d})]})}),o&&l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[l.jsx("span",{children:"Overall Progress"}),l.jsxs("span",{children:[Math.round(u),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${u}%`}})})]}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{type:"submit",disabled:o||s.length===0||!_,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:o?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:"Uploading..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(fn,{className:"h-5 w-5"}),l.jsx("span",{children:"Upload Photos"})]})})})]})]})})})}const Ko=10,Xw=()=>{const e=Bt(),[t,r]=x.useState(null),[n,s]=x.useState(!1),[i,o]=x.useState([]),[a,u]=x.useState([]),[c,d]=x.useState(!0),[h,f]=x.useState(null);x.useState(""),x.useState(!1),x.useState(null);const[v,y]=x.useState(null),[w,k]=x.useState(null),[m,p]=x.useState("month"),[g,_]=x.useState({username:"",avatar_url:null}),[S,T]=x.useState(!1),[C,O]=x.useState(""),[G,U]=x.useState(null),[ge,Pe]=x.useState(null),[rt,ht]=x.useState(!1),[nt,kt]=x.useState([]),[De,P]=x.useState([]),[L,D]=x.useState(1),[q,ne]=x.useState(""),[qe,Ke]=x.useState(""),[st,b]=x.useState(""),[A,M]=x.useState(1),[X,K]=x.useState(!1);x.useEffect(()=>{I()},[]),x.useEffect(()=>{t&&n&&(ye(),W(),xr())},[t,n,h,m]),x.useEffect(()=>{$s()},[nt,q,qe,st]);const xr=async()=>{if(t)try{K(!0);const{data:N,error:B}=await $.from("purchases").select(`
          id,
          amount,
          created_at,
          buyer:profiles!purchases_buyer_id_fkey(
            username,
            full_name
          ),
          photo:photos(
            event_name
          )
        `).eq("photos.photographer_id",t.id).order("created_at",{ascending:!1});if(B)throw B;kt(N||[])}catch(N){console.error("Error loading transactions:",N),y("Failed to load transaction history")}finally{K(!1)}},$s=()=>{let N=[...nt];q&&(N=N.filter(B=>B.photo.event_name.toLowerCase().includes(q.toLowerCase()))),qe&&(N=N.filter(B=>new Date(B.created_at)>=new Date(qe))),st&&(N=N.filter(B=>new Date(B.created_at)<=new Date(st))),P(N),M(Math.ceil(N.length/Ko)),D(1)},Ht=()=>{const N=(L-1)*Ko;return De.slice(N,N+Ko)},j=()=>{const N=[["Date","Buyer","Album","Amount"].join(","),...De.map(ie=>[new Date(ie.created_at).toLocaleDateString(),ie.buyer.full_name||ie.buyer.username,ie.photo.event_name,`$${ie.amount.toFixed(2)}`].join(","))].join(`
`),B=new Blob([N],{type:"text/csv"}),ue=window.URL.createObjectURL(B),fe=document.createElement("a");fe.href=ue,fe.download=`sales-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),window.URL.revokeObjectURL(ue)},I=async()=>{var N,B,ue,fe;try{const{data:{user:ie},error:Ee}=await $.auth.getUser();if(Ee)throw Ee;if(!ie){e("/auth");return}r(ie),s(((N=ie.user_metadata)==null?void 0:N.role)==="photographer");const{data:ft,error:Pt}=await $.from("profiles").select("*").eq("id",ie.id).maybeSingle();if(!ft&&!Pt){const{error:Us}=await $.from("profiles").insert({id:ie.id,username:((B=ie.email)==null?void 0:B.split("@")[0])||"user",full_name:((ue=ie.user_metadata)==null?void 0:ue.full_name)||"",avatar_url:((fe=ie.user_metadata)==null?void 0:fe.avatar_url)||""});if(Us)throw console.error("Error creating profile:",Us),new Error("Failed to create user profile")}else if(Pt)throw console.error("Error fetching profile:",Pt),new Error("Failed to fetch user profile");y(null)}catch(ie){console.error("Error checking user:",ie),y("Failed to load user profile. Please try signing in again."),e("/auth")}finally{d(!1)}},W=async()=>{if(t)try{const N=new Date;switch(m){case"week":N.setDate(N.getDate()-7);break;case"month":N.setMonth(N.getMonth()-1);break;case"year":N.setFullYear(N.getFullYear()-1);break}const{data:B,error:ue}=await $.from("purchases").select(`
          amount,
          created_at,
          photos (
            id,
            event_name
          )
        `).gte("created_at",N.toISOString()).eq("photos.photographer_id",t.id);if(ue)throw ue;const fe={total_revenue:0,total_sales:0,recent_sales:[]};if(B){fe.total_sales=B.length,fe.total_revenue=B.reduce((Ee,ft)=>Ee+Number(ft.amount),0);const ie=B.reduce((Ee,ft)=>{const Pt=new Date(ft.created_at).toLocaleDateString();return Ee[Pt]=(Ee[Pt]||0)+Number(ft.amount),Ee},{});fe.recent_sales=Object.entries(ie).map(([Ee,ft])=>({date:Ee,amount:Number(ft)}))}k(fe)}catch(N){console.error("Error loading sales analytics:",N)}},ye=async()=>{if(!(!t||!n))try{d(!0),y(null);const{data:N,error:B}=await $.rpc("get_event_counts",{photographer_id:t.id});if(B)throw B;if(o((N==null?void 0:N.map(ue=>({id:ue.event_name,name:ue.event_name,photo_count:parseInt(ue.count),created_at:new Date().toISOString()})))||[]),h){const{data:ue,error:fe}=await $.from("photos").select(`
            *,
            purchases (
              amount
            )
          `).eq("photographer_id",t.id).eq("event_name",h).order("created_at",{ascending:!1});if(fe)throw fe;const ie=(ue==null?void 0:ue.map(Ee=>{var ft,Pt;return{...Ee,sales_count:((ft=Ee.purchases)==null?void 0:ft.length)||0,total_revenue:((Pt=Ee.purchases)==null?void 0:Pt.reduce((Us,ap)=>Us+Number(ap.amount),0))||0}}))||[];u(ie)}else u([])}catch(N){const B=N instanceof Error?N.message:"Failed to load data";console.error("Error loading data:",B),y(B)}finally{d(!1)}},he=N=>{var ue;const B=(ue=N.target.files)==null?void 0:ue[0];B&&(U(B),Pe(URL.createObjectURL(B)))},Y=async N=>{if(N.preventDefault(),!!t)try{ht(!0),y(null);let B=g.avatar_url;if(G){const fe=G.name.split(".").pop(),ie=`avatars/${t.id}-${Math.random()}.${fe}`,{error:Ee}=await $.storage.from("race-photos").upload(ie,G);if(Ee)throw Ee;B=ie}const{error:ue}=await $.from("profiles").update({username:C||g.username,avatar_url:B}).eq("id",t.id);if(ue)throw ue;_(fe=>({...fe,username:C||fe.username,avatar_url:B})),T(!1),U(null),Pe(null)}catch(B){console.error("Error updating profile:",B),y("Failed to update profile")}finally{ht(!1)}};return l.jsx("div",{className:"min-h-screen bg-background-light",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[v&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700",children:v}),c?l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"relative",children:S?l.jsxs("div",{className:"relative w-20 h-20",children:[l.jsx("img",{src:ge||(g.avatar_url?$.storage.from("race-photos").getPublicUrl(g.avatar_url).data.publicUrl:"https://via.placeholder.com/80"),alt:"Profile",className:"w-full h-full rounded-full object-cover"}),l.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary text-white p-1 rounded-full cursor-pointer",children:[l.jsx(fn,{className:"w-4 h-4"}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:he})]})]}):l.jsx("img",{src:g.avatar_url?$.storage.from("race-photos").getPublicUrl(g.avatar_url).data.publicUrl:"https://via.placeholder.com/80",alt:"Profile",className:"w-20 h-20 rounded-full object-cover"})}),l.jsx("div",{children:S?l.jsx("input",{type:"text",value:C,onChange:N=>O(N.target.value),placeholder:g.username,className:"block w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"}):l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:g.username}),l.jsx("p",{className:"text-gray-500",children:"Photographer"})]})})]}),S?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:Y,disabled:rt,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-light disabled:bg-gray-300",children:rt?"Saving...":"Save"}),l.jsx("button",{onClick:()=>{T(!1),U(null),Pe(null),O("")},className:"px-4 py-2 text-gray-600 hover:text-gray-900",children:"Cancel"})]}):l.jsx("button",{onClick:()=>{T(!0),O(g.username)},className:"px-4 py-2 text-primary hover:text-primary-light",children:"Edit Profile"})]})}),l.jsxs("div",{className:"dashboard-card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Albums"}),l.jsxs(ce,{to:"/upload",className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-primary rounded-lg hover:bg-primary-light",children:[l.jsx(fn,{className:"w-4 h-4"}),"Upload New Photos"]})]}),i.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Se,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No albums yet"}),l.jsx("p",{className:"mt-2 text-gray-500",children:"Start by uploading photos to create your first album"}),l.jsxs(ce,{to:"/upload",className:"mt-4 inline-flex items-center gap-2 px-6 py-3 text-sm font-medium text-white bg-primary rounded-lg hover:bg-primary-light",children:[l.jsx(fn,{className:"w-4 h-4"}),"Upload Photos"]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(N=>l.jsx(ce,{to:`/gallery?event=${encodeURIComponent(N.name)}`,className:"group bg-white rounded-lg overflow-hidden border border-gray-100 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(Se,{className:"w-5 h-5 text-primary"})}),l.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-primary transition-colors",children:N.name})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Yl,{className:"w-4 h-4 mr-2"}),N.photo_count," photos"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Vv,{className:"w-4 h-4 mr-2"}),"Created ",new Date(N.created_at).toLocaleDateString()]})]})]})},N.id))})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales History"}),l.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-primary rounded-lg hover:bg-primary-light",children:[l.jsx(Jv,{className:"w-4 h-4"}),"Export Report"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Album Name"}),l.jsx("input",{type:"text",value:q,onChange:N=>ne(N.target.value),placeholder:"Filter by album name",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),l.jsx("input",{type:"date",value:qe,onChange:N=>Ke(N.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),l.jsx("input",{type:"date",value:st,onChange:N=>b(N.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),l.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",De.reduce((N,B)=>N+B.amount,0).toFixed(2)]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transactions"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:De.length})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Album"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-4 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})})})}):Ht().length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No transactions found"})}):Ht().map(N=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(N.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.buyer.full_name||N.buyer.username}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.photo.event_name}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",N.amount.toFixed(2)]})]},N.id))})]})}),A>1&&l.jsx("div",{className:"flex items-center justify-between mt-6",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>D(N=>Math.max(N-1,1)),disabled:L===1,className:"p-2 text-gray-600 hover:text-primary disabled:text-gray-400",children:l.jsx(Wv,{className:"w-5 h-5"})}),l.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",L," of ",A]}),l.jsx("button",{onClick:()=>D(N=>Math.min(N+1,A)),disabled:L===A,className:"p-2 text-gray-600 hover:text-primary disabled:text-gray-400",children:l.jsx(Gv,{className:"w-5 h-5"})})]})})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Se,{className:"mx-auto h-12 w-12 text-primary"}),l.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"This area is for photographers only"})]})]})})};function Zw(){const[e,t]=x.useState(null),[r,n]=x.useState([]),[s,i]=x.useState(!0),[o,a]=x.useState(null);x.useEffect(()=>{u(),c()},[]);async function u(){var d,h;try{const{data:{user:f},error:v}=await $.auth.getUser();if(v)throw v;if(!f)return;t(f);const{data:y,error:w}=await $.from("profiles").select("*").eq("id",f.id).single();if(w&&w.code!=="PGRST116")throw w;if(!y){const{error:k}=await $.from("profiles").insert({id:f.id,username:((d=f.email)==null?void 0:d.split("@")[0])||"user",full_name:((h=f.user_metadata)==null?void 0:h.full_name)||""});if(k)throw k}}catch(f){console.error("Error checking user:",f),a("Failed to load user profile")}finally{i(!1)}}async function c(){try{const{data:{user:d}}=await $.auth.getUser();if(!d)return;const{data:h,error:f}=await $.from("purchases").select(`
          id,
          amount,
          created_at,
          photo:photos (
            event_name,
            url,
            price
          )
        `).eq("buyer_id",d.id).order("created_at",{ascending:!1});if(f)throw f;n(h||[])}catch(d){console.error("Error loading purchases:",d),a("Failed to load purchases")}}return s?l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:l.jsx(vi,{className:"h-8 w-8 text-indigo-600"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e==null?void 0:e.email}),l.jsx("p",{className:"text-gray-500",children:"Racer Account"})]})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"My Purchased Photos"}),r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Yl,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("p",{className:"mt-4 text-gray-500",children:"No purchased photos yet"}),l.jsx("a",{href:"/gallery",className:"mt-4 inline-block text-indigo-600 hover:text-indigo-500",children:"Browse Photos"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(d=>l.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[l.jsx("img",{src:$.storage.from("race-photos").getPublicUrl(d.photo.url).data.publicUrl,alt:`Photo from ${d.photo.event_name}`,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:d.photo.event_name}),l.jsxs("div",{className:"mt-2 flex justify-between text-sm text-gray-500",children:[l.jsxs("span",{children:["Purchased on ",new Date(d.created_at).toLocaleDateString()]}),l.jsxs("span",{children:["$",d.amount]})]})]})]},d.id))})]})]})})}function ex(){const{id:e}=hv(),[t,r]=x.useState(null),[n,s]=x.useState([]),[i,o]=x.useState(!0),[a,u]=x.useState(null),[c,d]=x.useState(6),[h,f]=x.useState(!1);x.useEffect(()=>{v()},[e]);async function v(){try{o(!0),u(null);const{data:m,error:p}=await $.from("profiles").select("*").eq("id",e).single();if(p)throw p;r(m);const{data:g,error:_}=await $.from("photos").select(`
          event_name,
          url,
          watermark_url
        `).eq("photographer_id",e).not("url","eq","").order("created_at",{ascending:!1});if(_)throw _;const S=new Map;g.forEach(C=>{if(!S.has(C.event_name))S.set(C.event_name,{event_name:C.event_name,photo_count:1,preview_url:C.watermark_url});else{const O=S.get(C.event_name);O.photo_count++}});const T=Array.from(S.values());s(T),f(T.length>c)}catch(m){console.error("Error loading photographer data:",m),u("Failed to load photographer data")}finally{o(!1)}}const y=()=>{d(m=>{const p=m+6;return f(n.length>p),p})},w=m=>{if(!m.preview_url)return"https://images.unsplash.com/photo-1452626038306-9aae5e071dd3?auto=format&fit=crop&q=80";const{data:p}=$.storage.from("race-photos").getPublicUrl(m.preview_url);return p.publicUrl},k=()=>{if(!(t!=null&&t.avatar_url))return null;const{data:m}=$.storage.from("race-photos").getPublicUrl(t.avatar_url);return m.publicUrl};return i?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a||!t?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Yl,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:a||"Photographer not found"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden",children:k()?l.jsx("img",{src:k(),alt:t.username,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:l.jsx(Se,{className:"w-8 h-8 text-primary"})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.full_name||t.username}),l.jsx("p",{className:"mt-1 text-gray-500",children:"Photographer"}),t.bio&&l.jsx("p",{className:"mt-2 text-gray-600 max-w-2xl",children:t.bio})]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsx("div",{className:"flex items-center justify-between mb-8",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Photo Albums"}),l.jsxs("p",{className:"mt-1 text-gray-500",children:[n.length," albums available"]})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.slice(0,c).map(m=>l.jsxs(ce,{to:`/gallery?event=${encodeURIComponent(m.event_name)}`,className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-shadow border border-gray-100",children:[l.jsxs("div",{className:"relative h-48",children:[l.jsx("img",{src:w(m),alt:m.event_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:p=>{p.currentTarget.src="https://images.unsplash.com/photo-1452626038306-9aae5e071dd3?auto=format&fit=crop&q=80"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:l.jsx("h3",{className:"text-lg font-semibold text-white",children:m.event_name})})]}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Se,{className:"h-4 w-4 mr-1"}),l.jsxs("span",{children:[m.photo_count," photos"]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center mr-2 overflow-hidden",children:k()?l.jsx("img",{src:k(),alt:t.username,className:"w-full h-full object-cover"}):l.jsx(Se,{className:"w-3 h-3 text-primary"})}),l.jsx("span",{className:"text-gray-700 font-medium",children:t.username})]})]})})]},m.event_name))}),h&&l.jsx("div",{className:"mt-12 text-center",children:l.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-primary border-2 border-primary rounded-lg hover:bg-primary hover:text-white transition-colors",children:["Load More",l.jsx(Ql,{className:"w-4 h-4"})]})}),n.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Se,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No albums yet"}),l.jsx("p",{className:"mt-2 text-gray-500",children:"This photographer hasn't uploaded any photos yet"})]})]})]})}function tx(){const e=Bt(),[t,r]=x.useState(!1),[n,s]=x.useState(""),[i,o]=x.useState(""),[a,u]=x.useState(!1),[c,d]=x.useState(null),[h,f]=x.useState(null),v=async y=>{y.preventDefault(),r(!0),f(null);try{if(a){const{data:w,error:k}=await $.auth.signUp({email:n,password:i,options:{data:{role:c}}});if(k)throw k;if(w.user){const{error:m}=await $.from("profiles").upsert({id:w.user.id,username:n.split("@")[0],full_name:"",avatar_url:""},{onConflict:"id",ignoreDuplicates:!0});m&&console.error("Error creating profile:",m),e("/")}}else{const{error:w}=await $.auth.signInWithPassword({email:n,password:i});if(w)throw w;e("/")}}catch(w){console.error("Auth error:",w),w.message==="User already registered"?f("This email is already registered. Please sign in instead."):w.message==="Invalid login credentials"?f("Invalid email or password. Please try again."):f(w.message||"An error occurred during authentication.")}finally{r(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"flex justify-center",children:a?c==="photographer"?l.jsx(Se,{className:"h-12 w-12 text-indigo-600"}):c==="racer"?l.jsx(vi,{className:"h-12 w-12 text-indigo-600"}):l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(Se,{className:"h-12 w-12 text-indigo-600"}),l.jsx(vi,{className:"h-12 w-12 text-indigo-600"})]}):l.jsx(Se,{className:"h-12 w-12 text-indigo-600"})}),l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:a?"Create your account":"Sign in to your account"})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[h&&l.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(js,{className:"h-5 w-5 text-red-400"})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-700",children:h})})]})}),a&&!c&&l.jsxs("div",{className:"space-y-4 mb-8",children:[l.jsx("h3",{className:"text-lg font-medium text-center text-gray-900",children:"Choose your role"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:()=>d("photographer"),className:"flex flex-col items-center p-4 border-2 rounded-lg hover:border-indigo-500 hover:bg-indigo-50",children:[l.jsx(Se,{className:"h-8 w-8 text-indigo-600 mb-2"}),l.jsx("span",{className:"font-medium",children:"Photographer"})]}),l.jsxs("button",{onClick:()=>d("racer"),className:"flex flex-col items-center p-4 border-2 rounded-lg hover:border-indigo-500 hover:bg-indigo-50",children:[l.jsx(vi,{className:"h-8 w-8 text-indigo-600 mb-2"}),l.jsx("span",{className:"font-medium",children:"Racer"})]})]})]}),(!a||c)&&l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Of,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",type:"email",required:!0,value:n,onChange:y=>s(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",disabled:t})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Tf,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",type:"password",required:!0,value:i,onChange:y=>o(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",disabled:t})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:t,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${t?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:t?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a?"Creating account...":"Signing in..."]}):l.jsx("span",{children:a?"Sign up":"Sign in"})})})]}),(!a||c)&&l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>{u(!a),d(null),f(null)},className:"text-sm text-indigo-600 hover:text-indigo-500",disabled:t,children:a?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})]})}function rx(){const e=Bt();return x.useEffect(()=>{$.auth.onAuthStateChange((t,r)=>{t==="SIGNED_IN"&&e("/profile")})},[e]),l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Completing sign in..."}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Please wait while we redirect you."})]})})}function nx(){return l.jsx("footer",{className:"bg-gray-50 border-t",children:l.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Se,{className:"h-8 w-8 text-indigo-600"}),l.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"RacePhotoHub"})]}),l.jsxs("div",{className:"text-sm text-gray-500 space-y-4",children:[l.jsxs("p",{children:[" ",new Date().getFullYear()," RacePhotoHub."]}),l.jsx("p",{children:"All rights reserved."})]}),l.jsxs("div",{className:"flex space-x-6 text-sm text-gray-500",children:[l.jsx("a",{href:"#",className:"hover:text-indigo-600",children:"Terms"}),l.jsx("a",{href:"#",className:"hover:text-indigo-600",children:"Privacy"}),l.jsx("a",{href:"#",className:"hover:text-indigo-600",children:"Contact"})]})]})})})}function sx(){const[e,t]=on.useState(null);on.useEffect(()=>{$.auth.getUser().then(({data:{user:n}})=>{var s;t(((s=n==null?void 0:n.user_metadata)==null?void 0:s.role)||null)}),$.auth.onAuthStateChange((n,s)=>{var i,o;t(((o=(i=s==null?void 0:s.user)==null?void 0:i.user_metadata)==null?void 0:o.role)||null)})},[]);const r=({children:n,allowedRole:s})=>e?e!==s?l.jsx(xc,{to:"/"}):l.jsx(l.Fragment,{children:n}):l.jsx(xc,{to:"/auth"});return l.jsx($v,{children:l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[l.jsx(pw,{}),l.jsx("main",{className:"flex-grow",children:l.jsxs(Cv,{children:[l.jsx(Wt,{path:"/",element:l.jsx(mw,{})}),l.jsx(Wt,{path:"/gallery",element:l.jsx(gw,{})}),l.jsx(Wt,{path:"/upload",element:l.jsx(r,{allowedRole:"photographer",children:l.jsx(Yw,{})})}),l.jsx(Wt,{path:"/profile",element:e==="photographer"?l.jsx(r,{allowedRole:"photographer",children:l.jsx(Xw,{})}):l.jsx(r,{allowedRole:"racer",children:l.jsx(Zw,{})})}),l.jsx(Wt,{path:"/photographer/:id",element:l.jsx(ex,{})}),l.jsx(Wt,{path:"/auth",element:l.jsx(tx,{})}),l.jsx(Wt,{path:"/auth/callback",element:l.jsx(rx,{})})]})}),l.jsx(nx,{})]})})}wf(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx(sx,{})}));export{up as g};
